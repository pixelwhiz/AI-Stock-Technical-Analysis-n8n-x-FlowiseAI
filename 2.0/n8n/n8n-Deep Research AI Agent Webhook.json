{
  "name": "Deep Research AI Agent-Sonar-webhook",
  "nodes": [
    {
      "parameters": {
        "path": "8ee060d4-246b-455b-b5f9-ef396e5786a2",
        "formTitle": "ç ”ç©¶ä¸»é¡Œ",
        "formDescription": "æä¾›ä¸»é¡Œç´°ç¯€",
        "formFields": {
          "values": [
            {
              "fieldLabel": "Topic",
              "placeholder": "ç‰¹æ–¯æ‹‰çš„æœªä¾†ï¼†é›»å‹•è»Šè¶¨å‹¢",
              "requiredField": true
            },
            {
              "fieldLabel": "Tone",
              "fieldType": "dropdown",
              "fieldOptions": {
                "values": [
                  {
                    "option": "å°ˆæ¥­"
                  },
                  {
                    "option": "æ­£å¼"
                  },
                  {
                    "option": "è¼•é¬†"
                  },
                  {
                    "option": "æ©Ÿæ™º"
                  },
                  {
                    "option": "åŒç†å¿ƒ"
                  }
                ]
              },
              "requiredField": true
            },
            {
              "fieldLabel": "Words",
              "placeholder": "1500",
              "requiredField": true
            },
            {
              "fieldLabel": "Sections",
              "placeholder": "5",
              "requiredField": true
            }
          ]
        },
        "options": {}
      },
      "id": "423d8363-2516-40d6-a4de-02b7f3565782",
      "name": "n8n Form Trigger",
      "type": "n8n-nodes-base.formTrigger",
      "position": [
        640,
        200
      ],
      "webhookId": "8ee060d4-246b-455b-b5f9-ef396e5786a2",
      "typeVersion": 2.1
    },
    {
      "parameters": {
        "content": "## è³‡æ·±ç ”ç©¶éƒ¨ä¸»ç®¡ ğŸ‘‘\nè¦åŠƒæ–‡ç« æ¶æ§‹\n\n",
        "height": 449,
        "width": 418,
        "color": 3
      },
      "id": "be31d656-f471-4a6d-990d-1c5d78936f59",
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        880,
        40
      ],
      "typeVersion": 1
    },
    {
      "parameters": {
        "content": "## å°ˆæ¡ˆç¶“ç†å·¥ä½œåˆ†é… âš™ï¸\nå·¥ä½œè½åœ°è¨ˆç•«èˆ‡åˆ†é…",
        "height": 451,
        "width": 597,
        "color": 2
      },
      "id": "7000db80-b0a7-474a-a00d-d2d2c00188e3",
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        1320,
        40
      ],
      "typeVersion": 1
    },
    {
      "parameters": {
        "content": "## è³‡æ·±ç ”ç©¶å“¡æ·±å…¥ç ”ç©¶ ğŸ§‘â€ğŸ”¬\næœå°‹å½™æ•´ç ”ç©¶è³‡æ–™",
        "height": 454,
        "width": 677
      },
      "id": "1d473af2-5144-4b81-a3ef-734df40a13e6",
      "name": "Sticky Note2",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        1940,
        40
      ],
      "typeVersion": 1
    },
    {
      "parameters": {
        "content": "## è³‡æ·±ç·¨è¼¯æ•´åˆå ±å‘Š ğŸ“ \nçµ±ä¸€æ–‡ç« é¢¨æ ¼",
        "height": 449,
        "width": 511,
        "color": 4
      },
      "id": "fb4291ec-ef5d-4761-bc7a-d5aea6a8c676",
      "name": "Sticky Note3",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        2640,
        40
      ],
      "typeVersion": 1
    },
    {
      "parameters": {
        "content": "## ç™¼å¸ƒåˆ°è½æ ¼ ï¼† Google Docs ğŸ“°",
        "height": 449,
        "width": 902,
        "color": 5
      },
      "id": "5fd07972-f8a4-462c-942f-fbfd4183b17f",
      "name": "Sticky Note4",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        3180,
        40
      ],
      "typeVersion": 1
    },
    {
      "parameters": {},
      "type": "n8n-nodes-base.executeWorkflowTrigger",
      "typeVersion": 1,
      "position": [
        1300,
        580
      ],
      "id": "8c359308-ad4c-48de-bf73-13e7b0781397",
      "name": "Execute Workflow Trigger"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "33b7b279-e993-45cf-9e34-37a29a5819ee",
              "name": "response",
              "value": "={{ $json.choices[0].message.content }}\n\nCitations:\n{{ $json.citations }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        1640,
        580
      ],
      "id": "65e4afe5-b450-4631-88d1-042bc81d96e9",
      "name": "Response"
    },
    {
      "parameters": {
        "content": "## Perplexity API\n- Sign-up account in OpenRouter to access Perplexity API\n- Set API key in the Perplexity API node\n- Credential \n  * Auth type : Header\n  * Name : Authorization \n  * Value: Bearer <your api-key value>",
        "height": 214,
        "width": 974,
        "color": 7
      },
      "id": "ce93a935-7a05-4b21-991d-ad142e247580",
      "name": "Sticky Note5",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        880,
        540
      ],
      "typeVersion": 1
    },
    {
      "parameters": {
        "method": "POST",
        "url": "https://api.perplexity.ai/chat/completions",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n  \"model\": \"sonar-reasoning-pro\",\n  \"messages\": [\n    {\n      \"role\": \"system\",\n      \"content\": \"You are a professional data collection assistant. Provide clear,precise,factual summaries with verified sources.\"\n    },\n    {\n      \"role\": \"user\",\n      \"content\": \"{{ $json.query.query }}\"\n    }\n  ],\n  \"temperature\": 0.2,\n  \"top_p\": 0.9,\n  \"return_images\": false,\n  \"search_recency_filter\": \"month\",\n  \"return_related_questions\": false,\n  \"top_k\": 0,\n  \"stream\": false,\n  \"presence_penalty\": 0,\n  \"frequency_penalty\": 1\n} ",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        1480,
        580
      ],
      "id": "4ef18c1b-fd4b-4fdc-807b-bc034fa798ff",
      "name": "Perplexity API",
      "credentials": {
        "httpHeaderAuth": {
          "id": "NGlyH4gHxdUi02HP",
          "name": "Header Auth-Perplexity"
        }
      }
    },
    {
      "parameters": {
        "schemaType": "manual",
        "inputSchema": "{\n  \"type\": \"object\",\n  \"properties\": {\n    \"subtitle\": {\n      \"type\": \"string\"\n    },\n    \"introduction\": {\n      \"type\": \"string\"\n    },\n    \"conclusions\": {\n      \"type\": \"string\"\n    },\n    \"imagePrompt\": {\n      \"type\": \"string\"\n    },\n    \"chapters\": {\n      \"type\": \"array\",\n      \"items\": {\n        \"type\": \"object\",\n        \"properties\": {\n          \"title\": {\n            \"type\": \"string\"\n          },\n          \"prompt\": {\n            \"type\": \"string\"\n          }\n        },\n        \"required\": [\n          \"title\",\n          \"prompt\"\n        ]\n      }\n    }\n  },\n  \"required\": [\n    \"subtitle\",\n    \"introduction\",\n    \"conclusions\",\n    \"imagePrompt\",\n    \"chapters\"\n  ]\n}"
      },
      "id": "5a9d09f0-9c7f-47df-a725-88cec15df348",
      "name": "Structured Output Parser",
      "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
      "typeVersion": 1.2,
      "position": [
        1820,
        360
      ]
    },
    {
      "parameters": {
        "fieldToSplitOut": "output.chapters",
        "options": {}
      },
      "id": "08061749-75aa-4705-9309-3650679663df",
      "name": "Delegate to Research Assistants",
      "type": "n8n-nodes-base.splitOut",
      "position": [
        1980,
        160
      ],
      "typeVersion": 1
    },
    {
      "parameters": {
        "title": "={{ $json.output.title }}",
        "additionalFields": {
          "content": "={{ $('Senior Editor-æ•´ç†å ±å‘Š').item.json.output }}",
          "slug": "={{ $json.output.article_slug }}",
          "status": "draft"
        }
      },
      "type": "n8n-nodes-base.wordpress",
      "typeVersion": 1,
      "position": [
        3800,
        280
      ],
      "id": "f7cbcf74-41ef-4121-91ee-58d3e97fa573",
      "name": "Wordpress",
      "credentials": {
        "wordpressApi": {
          "id": "Um6L2XvsQ4s9nLZ3",
          "name": "Wordpress account"
        }
      }
    },
    {
      "parameters": {
        "name": "perplexity_ai_search",
        "description": "Use this to do research using Perplexity online model.",
        "workflowId": {
          "__rl": true,
          "mode": "id",
          "value": "={{ $workflow.id}}",
          "cachedResultName": "={{ $workflow.id}}"
        },
        "specifyInputSchema": true,
        "schemaType": "manual",
        "inputSchema": "{\n\"type\": \"object\",\n\"properties\": {\n\t\"query\": {\n\t\t\"type\": \"string\",\n\t\t\"description\": \"perplexity search term\"\n\t\t}\n\t}\n}"
      },
      "type": "@n8n/n8n-nodes-langchain.toolWorkflow",
      "typeVersion": 1.2,
      "position": [
        1360,
        360
      ],
      "id": "186c23d0-869b-4d9c-8608-ccf93895fca4",
      "name": "Perplexity_Search"
    },
    {
      "parameters": {
        "options": {}
      },
      "id": "45b826cf-4217-431d-9b5a-eeada9ccdd98",
      "name": "OpenAI Chat Model 2",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1,
      "position": [
        2240,
        360
      ],
      "credentials": {
        "openAiApi": {
          "id": "2Lh3Ct62UhbXC7jq",
          "name": "OpenAi account"
        }
      }
    },
    {
      "parameters": {
        "name": "perplexity_ai_search",
        "description": "Use this to do research using Perplexity online model.",
        "workflowId": {
          "__rl": true,
          "mode": "id",
          "value": "={{ $workflow.id}}",
          "cachedResultName": "={{ $workflow.id}}"
        },
        "specifyInputSchema": true,
        "schemaType": "manual",
        "inputSchema": "{\n\"type\": \"object\",\n\"properties\": {\n\t\"query\": {\n\t\t\"type\": \"string\",\n\t\t\"description\": \"perplexity search term\"\n\t\t}\n\t}\n}"
      },
      "type": "@n8n/n8n-nodes-langchain.toolWorkflow",
      "typeVersion": 1.2,
      "position": [
        2000,
        360
      ],
      "id": "c131d977-8c28-4f9a-bad4-fc7388822a2b",
      "name": "Perplexity_Search 2"
    },
    {
      "parameters": {
        "name": "perplexity_ai_search",
        "description": "Use this to do research using Perplexity online model.",
        "workflowId": {
          "__rl": true,
          "mode": "id",
          "value": "={{ $workflow.id}}",
          "cachedResultName": "={{ $workflow.id}}"
        },
        "specifyInputSchema": true,
        "schemaType": "manual",
        "inputSchema": "{\n\"type\": \"object\",\n\"properties\": {\n\t\"query\": {\n\t\t\"type\": \"string\",\n\t\t\"description\": \"perplexity search term\"\n\t\t}\n\t}\n}"
      },
      "type": "@n8n/n8n-nodes-langchain.toolWorkflow",
      "typeVersion": 1.2,
      "position": [
        2420,
        360
      ],
      "id": "e648b924-fe8e-4e63-9076-024a7b17d3b9",
      "name": "Perplexity_Search 3"
    },
    {
      "parameters": {
        "agent": "conversationalAgent",
        "promptType": "define",
        "text": "=ç”¨é€šé †çš„å°ç£ç¹é«”ä¸­æ–‡æ½¤é£¾ä»¥ä¸‹æ–‡ç« ï¼Œ\nä»¥ html æ ¼å¼æä¾›å®Œæ•´çš„è¼¸å‡ºå…§å®¹ï¼Œä¸è¦éºæ¼ä»»ä½•åŸæœ‰å…§å®¹ï¼Œä¸ä½œä»»ä½•å…§å®¹ä¿®æ”¹ã€‚å°¤å…¶ä¸è¦å¤§å¹…åˆªæ¸›å…§å®¹ã€‚\n {{ $json.article }}\n\n# å…¶ä»–è¦æ±‚\n- æ®µè½ä½¿ç”¨ <H2>\n- Sources ä½¿ç”¨ <H5>\n- åœ¨æ–‡ç« çµå°¾åŠ ä¸Šä»¥ä¸‹æ–‡å­—ï¼š\nğŸ‘‰ æœ¬ç¯‡æ–‡ç« ç”±n8n AI Agent æ•´ç†æ’°å¯«ã€‚\n\n[å…è²¬è²æ˜]\næœ¬è³‡æ–™åƒ…ä¾›æ„è¦‹åƒè€ƒä½¿ç”¨ï¼Œä¸å¾—ä½œç‚ºä»»ä½•é‡‘èå•†å“æ¨ä»‹è²·è³£ä¹‹ä¾æ“šï¼Œ äº¦ä¸å¾—ä½œç‚ºå‘ä»–äººæå‡ºæŠ•è³‡å»ºè­°ä½¿ç”¨ã€‚ æœ¬äººå·²å°±å¯é è³‡æ–™æä¾›å€‹äººé©ç•¶æ„è¦‹èˆ‡è³‡è¨Šï¼Œä½†ä¸ä¿è­‰è³‡æ–™å®Œæ•´æ€§ï¼Œ å¦‚æœ‰éºæ¼æˆ–åé —ä¹‹è™•ï¼Œè«‹ç€è¦½äººå£«ï¼Œè‡ªè¡Œæ‰¿æ“”ä¸€åˆ‡é¢¨éšªï¼Œæœ¬è©•è«–ä¸è² æ“”ç›ˆè™§ä¹‹æ³•å¾‹è²¬ä»»ã€‚\nå…¶ä¸­æ‰€å‡ºç¾çš„å€‹è‚¡æ¨™çš„åƒ…ä½œç‚ºåˆ†æä½¿ç”¨ï¼Œä¸¦ç„¡æ„åœ–å¼•ä»‹ä»»ä½•äººè‡³ç¾åœ‹åˆ¸å•†é–‹æˆ¶ï¼Œäº¦ç„¡æ„åœ–å‘ä»»ä½•äººæ¨è–¦æŠ•è³‡æ¨™çš„ï¼Œæ‚¨ä»éœ€é è‡ªèº«å‹¤å‹‰åœ°ç ”ç©¶å¾Œå†åšæŠ•è³‡æ±ºç­–ã€‚æ­¤å¤–æœ¬äººèˆ‡æ–‡ç« æ‰€æåŠçš„ä¼æ¥­äº¦æ²’æœ‰å•†æ¥­å¾€ä¾†èˆ‡æ“”ä»»ä»»ä½•è©²ä¼æ¥­è·å‹™ã€‚\n\n",
        "options": {
          "systemMessage": "=æ‚¨æ˜¯ä¸€ä½è³‡æ·±ç·¨è¼¯ï¼Œå°ˆé–€æå‡å…§å®¹è³ªé‡ï¼Œå¯©æ ¸å¤šä½ä½œè€…çš„ä½œå“ï¼Œä¸¦ç¢ºä¿å­¸è¡“èª ä¿¡èˆ‡æ­£ç¢ºçš„ä¾†æºæ¨™è¨»ã€‚æ‚¨çš„ç›®æ¨™æ˜¯æä¾›é«˜å“è³ªã€SEOå„ªåŒ–çš„æ–‡ç« ï¼Œå¹«åŠ©è®€è€…ç²å¾—æœ‰åƒ¹å€¼çš„çŸ¥è­˜ã€‚\n\n#å…§å®¹å¯©æ ¸æŒ‡å—\n* å…¨é¢é–±è®€ï¼šä»”ç´°é–±è®€æ•´ç¯‡å…§å®¹ï¼Œäº†è§£å…¶ä¸»æ—¨ã€‚\n* èªè¨€æª¢æŸ¥ï¼šä¿®æ­£èªæ³•ã€æ‹¼å¯«åŠæ¨™é»éŒ¯èª¤ï¼Œç¢ºä¿èªè¨€æµæš¢ã€‚\n* é¢¨æ ¼ä¸€è‡´ï¼šä¿æŒèªèª¿ã€é¢¨æ ¼åŠè²éŸ³çš„ä¸€è‡´æ€§ï¼Œä½¿æ–‡ç« çµ±ä¸€ã€‚\n* éœ€æ±‚å°é½Šï¼šç¢ºä¿å…§å®¹ç¬¦åˆåŸå§‹è¦æ±‚èˆ‡é …ç›®ç›®æ¨™ã€‚\n* æå‡å¯è®€æ€§ï¼šå„ªåŒ–å¥å­çµæ§‹å’Œæ®µè½æµæš¢åº¦ï¼Œè®“è®€è€…æ›´å®¹æ˜“ç†è§£ã€‚\n* SEOå„ªåŒ–ï¼šå„ªåŒ–æ¨™é¡Œã€å‰¯æ¨™é¡ŒåŠæ ¼å¼ï¼Œå¢åŠ é—œéµè©å¯†åº¦ï¼Œæé«˜æœç´¢å¼•æ“æ’åã€‚\n* è³ªé‡æå‡ï¼šæå‡ºæ”¹é€²å»ºè­°ï¼Œå¢å¼·å…§å®¹çš„æ·±åº¦å’Œå»£åº¦ã€‚\n\n#å¼•ç”¨ç®¡ç†æŒ‡å—\n* ä¿ç•™å¼•ç”¨ï¼šä¿ç•™åŸä½œè€…çš„å…§åµŒå¼•ç”¨ï¼Œæ ¼å¼ç‚º [ä¾†æºï¼šä½œè€…/å‡ºç‰ˆåç¨±]ã€‚\n* æ¶ˆé™¤é‡è¤‡ï¼šç§»é™¤ä¸åŒéƒ¨åˆ†çš„é‡è¤‡å¼•ç”¨ï¼Œä¿æŒå¼•ç”¨ç²¾ç°¡ã€‚\n* çµ±ä¸€æ ¼å¼ï¼šçµ±ä¸€å¼•ç”¨æ ¼å¼ï¼Œç¢ºä¿ä¸€è‡´æ€§ã€‚\n* æ­£ç¢ºæ­¸å±¬ï¼šç¢ºèªæ‰€æœ‰å¼•ç”¨å…§å®¹æ­£ç¢ºæ­¸å±¬ï¼Œé¿å…æŠ„è¥²ã€‚\n* æµæš¢é–±è®€ï¼šç¢ºä¿å¼•ç”¨ä¸å½±éŸ¿æ–‡ç« çš„æµæš¢æ€§ã€‚\n* éˆæ¥æ ¸å°ï¼šæ ¸å°æ‰€æœ‰å…§åµŒå¼•ç”¨èˆ‡å°æ‡‰çš„ä¾†æºéˆæ¥ï¼Œç¢ºä¿å…¶æœ‰æ•ˆæ€§ã€‚\n\n# çµ±ä¸€ä¾†æºæ–‡ä»¶æ ¼å¼\n* åœ¨æ–‡ç« æœ«å°¾ï¼ˆçµè«–å¾Œï¼‰å»ºç«‹ä¸€å€‹ã€Œä¾†æºã€éƒ¨åˆ†ã€‚\n* æ¯å€‹ä¾†æºæ¢ç›®ä½¿ç”¨ä¸€è‡´çš„HTMLæ ¼å¼ï¼š\n<li><a href=\"[URL]\">[å‡ºç‰ˆåç¨±] - [æ–‡ç« æ¨™é¡Œ]</a></li>\n* æ¯å€‹ä¾†æºæ‡‰åŒ…å«ï¼š\n- å‡ºç‰ˆ/ä½œè€…åç¨±\n- æ–‡ç« æ¨™é¡Œï¼ˆå¦‚æœ‰ï¼‰\n- å®Œæ•´URL\n- æ–‡ç« æ—¥æœŸï¼ˆå¦‚æœ‰ï¼‰\n* æŒ‰å‡ºç‰ˆåç¨±å­—æ¯é †åºæ’åˆ—ï¼Œç§»é™¤é‡è¤‡æ¢ç›®ï¼Œç¢ºä¿æ‰€æœ‰éˆæ¥æœ‰æ•ˆã€‚\n\n# SEOèˆ‡æ ¼å¼æŒ‡å—\n* HTMLæ ¼å¼ï¼šä¿æŒå…¨æ–‡æ­£ç¢ºçš„HTMLæ ¼å¼ï¼Œç¢ºä¿çµæ§‹æ¸…æ™°ã€‚\n* é—œéµè©å„ªåŒ–ï¼šç¢ºä¿å¼•ç”¨ä¸å½±éŸ¿é—œéµè©çš„è‡ªç„¶èå…¥ã€‚\n* æ¨™é¡Œæ¨™ç±¤ï¼šä½¿ç”¨é©ç•¶çš„æ¨™é¡Œæ¨™ç±¤ï¼ˆh1, h2, h3ï¼‰ä¾†çµæ§‹åŒ–å…§å®¹ã€‚\n* Metaæ¨™ç±¤ï¼šå¦‚éœ€ï¼ŒåŒ…å«é©ç•¶çš„metaæè¿°å’Œæ¨™é¡Œæ¨™ç±¤ï¼Œæå‡æœç´¢å¼•æ“å¯è¦‹æ€§ã€‚\n\n# è¼¸å‡ºæ ¼å¼\n* ä¸»è¦å…§å®¹ï¼šåŒ…å«å…§åµŒå¼•ç”¨çš„ä¸»è¦å…§å®¹ã€‚\n* ä¾†æºéƒ¨åˆ†ï¼šæ–‡ç« æœ«å°¾çš„ä¸€å€‹ã€Œä¾†æºã€éƒ¨åˆ†ï¼ŒåŒ…å«æ‰€æœ‰å¼•ç”¨éˆæ¥ã€‚\n\n# å…¶ä»–è¦æ±‚\n* å­¸è¡“èª ä¿¡ï¼šä¿æŒå­¸è¡“èª ä¿¡ï¼Œç¢ºä¿å…§å®¹å¯è®€æ€§ã€‚\n* SEOèˆ‡å¼•ç”¨å¹³è¡¡ï¼šå¹³è¡¡SEOå„ªåŒ–èˆ‡æ­£ç¢ºå¼•ç”¨ï¼Œæå‡æ–‡ç« åƒ¹å€¼ã€‚\n* è²¢ç»æ­¸å±¬ï¼šæ­£ç¢ºæ­¸å±¬æ‰€æœ‰ä½œè€…çš„è²¢ç»ã€‚\n* åŸæ„ä¿ç•™ï¼šä¿ç•™å¼•ç”¨å…§å®¹çš„åŸæ„èˆ‡æ„åœ–ï¼Œé¿å…æ›²è§£ã€‚\n* æµæš¢éæ¸¡ï¼šç¢ºä¿ä¸åŒä½œè€…æ®µè½ä¹‹é–“æœ‰è‡ªç„¶çš„éæ¸¡ã€‚\n\nä»Šå¤©æ—¥æœŸç‚ºï¼š {{ $now }}"
        }
      },
      "id": "2d2d99bd-5d9d-4d25-a5de-40bc025be5d9",
      "name": "Senior Editor-æ•´ç†å ±å‘Š",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "position": [
        3060,
        160
      ],
      "typeVersion": 1.6
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "=Topic to research: {{ $json.Topic }}\n\n\n\n",
        "options": {
          "systemMessage": "=ä½ æ˜¯ä¸€åç ”ç©¶å°ˆå®¶ï¼Œå¹«åŠ©è®€è€…å¾é›¶åˆ°å°ˆç²¾\né€™ä»½æ¡†æ¶æ—¨åœ¨å”åŠ©ä½ ä»¥ã€Œç ”ç©¶å°å‘ã€çš„æ–¹å¼å»ºæ§‹å…§å®¹ï¼Œå¾åŸºç¤è„ˆçµ¡åˆ°å°ˆå®¶è§€é»ã€å¯¦å‹™æ¡ˆä¾‹å’Œæœªä¾†è¶¨å‹¢ï¼Œè®“ä¸€èˆ¬è®€è€…ä¹Ÿèƒ½è¿…é€ŸæŒæ¡æ ¸å¿ƒçŸ¥è­˜ï¼ŒåŒæ™‚æ»¿è¶³æ·±åº¦å­¸ç¿’è€…çš„éœ€æ±‚ã€‚\n\nç ”ç©¶å°å‘å…§å®¹æ¡†æ¶\nä¸€ã€ä½¿ç”¨æƒ…å¢ƒèˆ‡ç›®æ¨™\n* å—çœ¾éœ€æ±‚ï¼šä¸€èˆ¬è®€è€…æˆ–å°ˆæ¥­äººå£«ï¼Œæƒ³å¿«é€Ÿäº†è§£æ ¸å¿ƒæ¦‚å¿µã€å¯¦å‹™æ¡ˆä¾‹èˆ‡æœ€æ–°è¶¨å‹¢ã€‚\n* åƒ¹å€¼ï¼šé€éã€Œç ”ç©¶å°å‘ã€çš„æ–¹æ³•ï¼Œç”¢å‡ºç³»çµ±åŒ–çš„é«˜å“è³ªå…§å®¹ï¼Œå¢å¼·èªªæœåŠ›èˆ‡å¯åŸ·è¡Œæ€§ã€‚\n\näºŒã€ä»»å‹™æµç¨‹\n1. è¨­å®šä¸»é¡Œèˆ‡ç¯„åœï¼šå…ˆé–å®šç ”ç©¶å•é¡Œã€æƒ³é”æˆçš„ç›®æ¨™ã€‚\n2. ç¶²è·¯è’é›†èˆ‡è³‡è¨Šæ•´åˆï¼šåˆ©ç”¨æœå°‹å·¥å…·æ”¶é›†æœ€æ–°ç ”ç©¶ã€ç”¢æ¥­æ¡ˆä¾‹ã€‚\n3. æç…‰æ ¸å¿ƒæ´è¦‹ï¼šèƒå–é‡è¦è§€é»ã€æœ€ä½³å¯¦å‹™å’ŒæŒ‘æˆ°è§£æ³•ã€‚\n4. å»ºç«‹ç›®éŒ„å¤§ç¶±ï¼šåŒæ™‚è€ƒé‡åŸºç¤ç†è«–èˆ‡æ‡‰ç”¨æ¡ˆä¾‹ã€‚\n5. è¡Œå‹•åŒ–ï¼šæä¾›å…·é«”å°ç­–ã€å»ºè­°è³‡æºèˆ‡å¾ŒçºŒç™¼å±•è·¯å¾‘ã€‚\n\nä¸‰ã€Topic Analysisï¼ˆä¸»é¡Œåˆ†æï¼‰\n* ä¸»é¡Œæ¦‚è¿°èˆ‡ç•¶å‰æ„ç¾©ï¼šèªªæ˜å®ƒã€Œç‚ºä½•é‡è¦ã€ï¼Œä¸¦æ¦‚æ‹¬æœ€æ–°è¶¨å‹¢æˆ–ç¤¾æœƒå½±éŸ¿ã€‚\n* æ½›åœ¨æ‡‰ç”¨é ˜åŸŸï¼šåˆ—èˆ‰å…¸å‹æ‡‰ç”¨å ´æ™¯èˆ‡å¯èƒ½çš„å—çœ¾éœ€æ±‚ã€‚\n\nå››ã€Key Research Insightsï¼ˆç ”ç©¶æ ¸å¿ƒæ´è¦‹ï¼‰\n* æ´è¦‹1ï¼šæ¬Šå¨æ•¸æ“šæˆ–å°ˆå®¶å ±å‘Š\n* æ´è¦‹2ï¼šæœ€æ–°æ¥­ç•Œæ¡ˆä¾‹èˆ‡è¶¨å‹¢\n* æ´è¦‹3ï¼šå¸¸è¦‹æŒ‘æˆ°èˆ‡å°æ‡‰ç­–ç•¥\n\näº”ã€Proposed Table of Contentsï¼ˆå»ºè­°ç›®éŒ„æ¶æ§‹ï¼‰\n1. å‰è¨€ï¼šä¸»é¡Œæ¦‚è§€ & æ™‚äº‹æ„ç¾©\n2. èƒŒæ™¯è„ˆçµ¡ï¼šæ­·å²ç™¼å±• & æ ¸å¿ƒæ¦‚å¿µ\n3. æ ¸å¿ƒè­°é¡Œèˆ‡ä¸»è¦ç™¼ç¾\n    * é—œéµç ”ç©¶ & å°ˆå®¶è§€é»\n    * å¯¦å‹™æ¡ˆä¾‹ & æˆåŠŸ/å¤±æ•—æ•™è¨“\n4. å¸¸è¦‹å•é¡Œ & è§£æ±ºå°ç­–\n5. æœªä¾†ç™¼å±• & æ–°æ©Ÿæœƒ\n6. çµè«– & è¡Œå‹•å»ºè­°\n\nå…­ã€Research Sourcesï¼ˆåƒè€ƒèˆ‡å»¶ä¼¸è³‡æºï¼‰\n* æ¬Šå¨æ–‡ç»ï¼šå­¸è¡“æœŸåˆŠã€ç™½çš®æ›¸\n* å°ˆå®¶è¨ªè«‡ï¼šè¡Œæ¥­é ˜è¢–ã€ç ”è¨æœƒç´€éŒ„\n* ç·šä¸Šèª²ç¨‹ & å·¥å…·ï¼šå®˜æ–¹å ±å‘Šã€è«–å£‡ã€å°ˆæ¥­å¹³å°\n\nä¸ƒã€ä½¿ç”¨èªªæ˜ï¼ˆUsage Instructionsï¼‰\n1. æŒ‡å®šä¸»é¡Œï¼ˆå¦‚ï¼šAI åœ¨æ•™è‚²é ˜åŸŸï¼‰\n2. ä½¿ç”¨æœå°‹å·¥å…·ï¼ˆPerplexity_Searchï¼‰å–å¾—æœ€æ–°è³‡æ–™\n3. å°‡ç ”ç©¶æˆæœå¥—ç”¨åˆ°ç›®éŒ„ï¼Œç†è«–èˆ‡æ¡ˆä¾‹ä¸¦é‡\n4. è±å¯Œæ®µè½ï¼šæ•´åˆå°ˆå®¶è§€é»ã€æ•¸æ“šèˆ‡æ¡ˆä¾‹\n5. å¤šå…ƒæ‡‰ç”¨ï¼šå¯ç›´æ¥ç”¨æ–¼æ–‡ç« ã€ç™½çš®æ›¸ã€èª²ç¨‹æ•™æ\n\nTodayâ€™s Date is {{ $now }}\n"
        }
      },
      "id": "cf6c55bd-6aab-44ee-ae4e-dc7b7511e9e7",
      "name": "Research Manager-åˆ¶å®šæ¶æ§‹",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "position": [
        1180,
        160
      ],
      "typeVersion": 1.6
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "=è«‹ç‚ºä¸€ç¯‡ SEO å‹å–„çš„æ–‡ç« ç”¢ç”Ÿ JSON è¼¸å‡ºã€‚\nå¿…é ˆåŒ…å«ï¼š\n\ntitle: æ–‡ç« æ¨™é¡Œ\nsubtitle: æ–‡ç« å‰¯æ¨™é¡Œ\nintroduction: ç´„ 100 å­—çš„å‰è¨€ï¼ˆç”¨ HTML æ ¼å¼ï¼Œä»‹ç´¹ä¸»é¡Œä¸¦é‹ªé™³å…¨æ–‡ï¼‰\nchapters: ä¸€å€‹é™£åˆ—ï¼Œæ¯å€‹å…ƒç´ éƒ½æœ‰ title èˆ‡ promptã€‚\nä¸è¦åœ¨ç« ç¯€æ¨™é¡Œå‰åŠ ä¸Šã€ŒChapter 1ã€ã€ã€ŒChapter 2ã€ç­‰å­—æ¨£\næ¯å€‹ç« ç¯€ç´„ç•¥æ“æœ‰ã€Œæ·±åº¦åˆ†æã€å…§å®¹ä¸¦ç›¸äº’é€£è²«\nconclusions: ç´„ 100 å­—çš„çµè«–ï¼ˆç”¨ HTML æ ¼å¼ï¼Œç¸½çµå…¨æ–‡ä¸¦çµ¦äºˆè®€è€…çµè«–ï¼‰\nimagePrompt: ç”Ÿæˆæ–‡ç« å°é¢ç”¨çš„æ”å½±é¢¨æ ¼æè¿°ï¼Œå¿…é ˆèˆ‡æ–‡ç« ä¸»é¡Œå‘¼æ‡‰\nè«‹ä½¿ç”¨ {{ $json.output }} ä¸­çš„ä¸»é¡Œå»ºç«‹ {{ $('Setting').item.Sections }}\n\nå€‹ç« ç¯€ã€‚\næ•´ç¯‡æ–‡ç« æ‡‰æœ‰é‚è¼¯å»¶çºŒã€åˆ‡å‹¿é‡è¤‡ç›¸åŒæ¦‚å¿µã€‚\nä¸è¦ä½¿ç”¨å†’è™Ÿï¼ˆ:ï¼‰ æ–¼æ¨™é¡Œæ–‡å­—ã€‚\nè«‹ä»¥ {{ $('Setting').item.Tone }} çš„é¢¨æ ¼æ’°å¯«å…¨ç¯‡ï¼Œä¸¦ç¢ºä¿å…§å®¹æ·±å…¥æ¢è¨ä¸»é¡Œã€‚\næ’°å¯«å‰å¯é€é Perplexity_Search 2 å·¥å…·é€²è¡Œè³‡æ–™è’é›†ã€‚\n\nToday's date is: {{ $now }}",
        "hasOutputParser": true,
        "options": {}
      },
      "id": "3db3422a-8757-4527-8462-f286ce63c7ca",
      "name": "Project Manager-å·¥ä½œæ‹†è§£",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 1.7,
      "position": [
        1580,
        160
      ]
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "=è«‹ç”¨é€šé †çš„å°ç£ç¹é«”ä¸­æ–‡ç‚ºä¸€ç¯‡å‰¯æ¨™é¡Œç‚ºã€Œ{{ $('Project Manager-å·¥ä½œæ‹†è§£').item.json.output.subtitle }}ã€çš„æ–‡ç« æ’°å¯«æ–°ç« ç¯€ã€‚\nç« ç¯€æ¨™é¡Œç‚ºã€Œ{{ $json.title }}ã€ï¼Œä¸¦åœ¨å…§å®¹ä¸­èšç„¦èªªæ˜ã€Œ{{ $json.prompt }}ã€ã€‚\næ’°å¯«å®Œæˆå¾Œï¼Œå‹™å¿…åŠ å…¥ç”± Perplexity_Search 3 æä¾›çš„å¼•ç”¨ï¼ˆcitationsï¼‰ã€‚",
        "options": {
          "systemMessage": "=You are a dedicated Research Assistant AI agent, working as part of a research team under the guidance of a Research Leader and Project Planner. Your task is to write a chapter in the as part of the overall research into a topic.\n\nGuidelines:\n- Just return the plain text for each chapter (no JSON structure).\n- Use the perplexity_ai_search tool to research the topic in the chapter\n- Use html format for output\n- Don't add internal titles or headings.\n- The length of each chapther should be around {{ Math.round($('Setting').item.json['Words'] - 120)/ $('Setting').item.json['Sections']}} words long- Go deep in the topic you treat, don't just throw some superficial info\n{{ $itemIndex > 0 ? \"- The previous chapter talks about \" + $input.all()[$itemIndex-1].json.title : \"\" }}\n{{ $itemIndex > 0 ? \"- The promt for the previous chapter is \" + $input.all()[$itemIndex-1].json.prompt : \"\" }}\n{{ $itemIndex < $input.all().length ? \"- The following chapter will talk about \" + $input.all()[$itemIndex+1].json.title: \"\" }}\n{{ $itemIndex < $input.all().length ? \"- The prompt for the following chapter is \" + $input.all()[$itemIndex+1].json.prompt : \"\" }}\n- Consider the previous and following chapters what writing the text for this chapter. The text must be coherent with the previous and following chapters.\n- This chapter should not repeat the concepts already exposed in the previous chapter.\n- This chapter is a part of a larger article so don't include an introduction or conclusions. This chapter should merge with the rest of the article.\n- Please write in a style that is {{ $('Setting').item.json.Tone }}\n- Please use the perplexity online tool as source of information to use to write the chapter\n- Make sure to include citations from the perplexity_ai_search tool in your writing\n\nCitation Guidelines:\n- Use the perplexity_ai_search tool to gather information and cite sources\n- For each major claim or piece of information, include a hyperlinked inline citation\n- Format citations as HTML links with descriptive text:\n  <a href=\"[URL]\">[Source: Publication Name]</a>\n  Examples of proper citation format:\n  - \"According to recent data <a href=\"https://www.mckinsey.com/article-url\">[Source: McKinsey & Company]</a>...\"\n- When directly quoting from a source, use quotation marks and include the citation\n- Integrate citations naturally into the flow of the text without disrupting readability\n- Ensure all cited information is relevant and supports the chapter's main points\n- Verify that citations are accurate and come directly from the perplexity_ai_search results\n- Balance cited content with original analysis and synthesis\n- When citing statistics or specific data points, include the year if available in the citation\n\n\nContent Integration:\n- Smoothly blend cited information with original analysis\n- Use transitions to connect cited material with your own insights\n- Maintain the specified tone while incorporating citations\n- Ensure citations support rather than dominate the narrative\n- Use a mix of paraphrasing and direct quotes when citing sources\n\nSources Section Requirements:\n- At the end of your chapter, include a \"Sources\" section\n- Format the sources section as follows:\n\n<hr>\n<h3>Sources</h3>\n<ul>\n<li><a href=\"[URL]\">[Publication Name] - [Article Title]</a></li>\n[Additional sources...]\n</ul>\n\nSource List Guidelines:\n- List each unique source used in your chapter\n- Include the full URL from the perplexity_ai_search results\n- Order sources alphabetically by publication name\n- Include article titles when available\n- Each source should only appear once in the list\n- Ensure all URLs are functional and properly formatted\n- Include all sources referenced in your in-text citations\n- Match source names exactly as used in in-text citations\n\nExample Source Entry:\n<li><a href=\"https://www.mckinsey.com/article-path\">McKinsey & Company - The Future of AI in Business</a></li>\n\nQuality Control:\n- Verify that every in-text citation has a corresponding entry in the Sources section\n- Check that all URLs are complete and accurate\n- Ensure consistency between in-text citation names and source list entries\n- Confirm all cited information is relevant and supports the chapter's main points\n- Balance cited content with original analysis and synthesis\n\n\nToday's date is : {{ $now }}\n"
        }
      },
      "id": "bb805eb9-c42e-4bdd-bc6d-2723d7e2757b",
      "name": "Senior Researcher-æ·±å…¥ç ”ç©¶",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "position": [
        2240,
        120
      ],
      "retryOnFail": true,
      "typeVersion": 1.6
    },
    {
      "parameters": {
        "folderId": "1oYra8COeLLgvm_TupfERSdu0HbO2dD5T",
        "title": "=Research Topic_{{ $now.format('yyyyMMdd HH:mm:ss') }}"
      },
      "type": "n8n-nodes-base.googleDocs",
      "typeVersion": 2,
      "position": [
        3800,
        120
      ],
      "id": "ad4de52a-af65-4437-bcff-1cb6e0178a4a",
      "name": "Google Docs",
      "credentials": {
        "googleDocsOAuth2Api": {
          "id": "TWFulgxZ7WpMcLD5",
          "name": "Google Docs (GucciDGI)"
        }
      }
    },
    {
      "parameters": {
        "operation": "update",
        "documentURL": "={{ $json.id }}",
        "actionsUi": {
          "actionFields": [
            {
              "action": "insert",
              "text": "={{ $('Senior Editor-æ•´ç†å ±å‘Š').item.json.output }}"
            }
          ]
        }
      },
      "type": "n8n-nodes-base.googleDocs",
      "typeVersion": 2,
      "position": [
        3980,
        120
      ],
      "id": "64feed92-72b5-4b8b-95f3-6c9ca54869a4",
      "name": "Google Docs1",
      "credentials": {
        "googleDocsOAuth2Api": {
          "id": "TWFulgxZ7WpMcLD5",
          "name": "Google Docs (GucciDGI)"
        }
      }
    },
    {
      "parameters": {
        "operation": "create",
        "base": {
          "__rl": true,
          "value": "app24c0VmI2nKifUR",
          "mode": "list",
          "cachedResultName": "Content Pool",
          "cachedResultUrl": "https://airtable.com/app24c0VmI2nKifUR"
        },
        "table": {
          "__rl": true,
          "value": "tblf7rPaJ1FGB2QG5",
          "mode": "list",
          "cachedResultName": "Gen Img for Wordpress",
          "cachedResultUrl": "https://airtable.com/app24c0VmI2nKifUR/tblf7rPaJ1FGB2QG5"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "Title": "={{ $json.title.raw }}",
            "Status": "Approved",
            "Model": "DALLE3",
            "Prompt": "={{ $('æ¨™é¡Œèˆ‡åœ–ç‰‡å»ºç«‹').item.json.output.image_prompt }}",
            "Post_ID": "={{ $json.id.toString() }}",
            "Article_Slug": "={{ $json.slug }}"
          },
          "matchingColumns": [],
          "schema": [
            {
              "id": "Title",
              "displayName": "Title",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Post_ID",
              "displayName": "Post_ID",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Article_Slug",
              "displayName": "Article_Slug",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Prompt",
              "displayName": "Prompt",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Model",
              "displayName": "Model",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "options",
              "options": [
                {
                  "name": "DALLE3",
                  "value": "DALLE3"
                },
                {
                  "name": "Flux",
                  "value": "Flux"
                },
                {
                  "name": "MidJourney",
                  "value": "MidJourney"
                }
              ],
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Status",
              "displayName": "Status",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "options",
              "options": [
                {
                  "name": "Review",
                  "value": "Review"
                },
                {
                  "name": "Approved",
                  "value": "Approved"
                },
                {
                  "name": "Done",
                  "value": "Done"
                }
              ],
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Created",
              "displayName": "Created",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": true,
              "removed": true
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.airtable",
      "typeVersion": 2.1,
      "position": [
        3980,
        280
      ],
      "id": "071e7808-92c3-42d3-9720-d2b6ee8ab65f",
      "name": "Airtable",
      "credentials": {
        "airtableTokenApi": {
          "id": "oBSDcdxlAnZAEc4h",
          "name": "Airtable Personal Access Token account"
        }
      }
    },
    {
      "parameters": {
        "jsCode": "let content = \"\";\n\n// Get introduction\ncontent += $('Project Manager-å·¥ä½œæ‹†è§£').first().json.output.introduction;\n\n// Process items\nfor (const item of $input.all()) {\n  content += \"<strong>\" + item.json.title + \"</strong>\";\n  content += item.json.output;\n  content += \"<br>\";\n}\n\n// Add conclusions\ncontent += \"<strong>Conclusions</strong>\";\ncontent += $('Project Manager-å·¥ä½œæ‹†è§£').first().json.output.conclusions;\n\nreturn [\n  {\n    \"article\": content\n  }\n];"
      },
      "id": "f246d80a-2f12-4210-abf4-211b17265656",
      "name": "æ–‡ç« æ’ç‰ˆ",
      "type": "n8n-nodes-base.code",
      "position": [
        2900,
        160
      ],
      "typeVersion": 1
    },
    {
      "parameters": {
        "schemaType": "manual",
        "inputSchema": "{\n  \"type\": \"object\",\n  \"properties\": {\n    \"title\": {\n      \"type\": \"string\"\n    },\n    \"image_prompt\": {\n      \"type\": \"string\"\n    },\n     \"article_slug\": {\n      \"type\": \"string\"\n    }\n },\n  \"required\": [\n    \"title\",\n    \"image_prompt\",\n    \"article_slug\"\n  ]\n}"
      },
      "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
      "typeVersion": 1.2,
      "position": [
        3600,
        360
      ],
      "id": "d5e46ab4-5dd1-4515-83b0-e675b8fad4bc",
      "name": "Structured Output Parser1"
    },
    {
      "parameters": {
        "mode": "combine",
        "combinationMode": "mergeByPosition",
        "options": {}
      },
      "id": "6da354d8-02ec-4bd8-80f5-c49975ecf259",
      "name": "åˆä½µç« ç¯€æ¨™é¡Œèˆ‡å…§æ–‡",
      "type": "n8n-nodes-base.merge",
      "position": [
        2660,
        200
      ],
      "typeVersion": 2.1
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "=1.è«‹ä¾æ“šä¸‹åˆ—æ–‡ç« å…§å®¹æä¾›ä¸€å€‹å¸ç›ã€ä¸”èƒ½å‰µé€ è©±é¡Œçš„æ–‡ç« æ¨™é¡Œæœ€å¥½å¸¶é»è¡çªæ„Ÿå¼•ç™¼å¥½å¥‡ï¼Œä¸¦ä¸”åªä»¥ç´”æ–‡å­—å½¢å¼å‘ˆç¾ï¼Œä¸å¾—åŒ…å«ä»»ä½•æ’ç‰ˆæˆ–æ ¼å¼åŒ–ã€‚åªéœ€è¦å›å‚³æ¨™é¡Œå³å¯ï¼Œä¸éœ€è¦è§£é‡‹åŸå› ã€‚\n\n2.è«‹æ ¹æ“šä¸‹åˆ—æ–‡ç« çš„é‡é»ï¼Œæ¿ƒç¸®æˆè©²ç¯‡æ–‡ç« æƒ³å‚³é”çš„é‡è¦æ¦‚å¿µï¼Œè½‰æˆ Mid Journey/DALLE/flux...ç­‰ AI text to image çš„ promptã€‚\n#åœ–ç‰‡è¦æ±‚\n- åœ–ç‰‡æ¦‚å¿µç°¡å–®ã€æ¸…æ¥šè¡¨é”é‡è¦æ¦‚å¿µï¼Œè®“è®€è€…ä¸€çœ¼å°±èƒ½æ‡‚ã€‚\n- åœ–ç‰‡æ¯”ä¾‹ç‚º 16:9\n- é–‹é ­ä¸éœ€è¦è¼¸å‡º \"Prompt\"ï¼Œåªéœ€è¦è¼¸å‡ºçµ¦ AI çš„ Promptå³å¯ã€‚\n\n3.æ ¹æ“šä¸‹åˆ—æ–‡ç« å…§å®¹ç”Ÿæˆ blog post çš„ slugï¼Œæœ€å¤š30å€‹è‹±æ–‡å­—(åŒ…å«ç¬¦è™Ÿ)ï¼Œç©ºæ ¼ç”¨\"-\"é€£æ¥ã€‚\n{{ $json.output }}\n\n#å…¶ä»–è¦æ±‚\n-ä¸€å¾‹ä½¿ç”¨é€šé †çš„ç¹é«”ä¸­æ–‡å›è¦†ï¼Œä¸è¦ä½¿ç”¨ç°¡é«”ä¸­æ–‡ã€‚",
        "hasOutputParser": true,
        "messages": {
          "messageValues": [
            {
              "message": "ä½ æ˜¯ä¸€åç™¾è¬KOLï¼Œæ“…é•·è£½ä½œå¸å¼•äººé–±è®€ï¼Œæœ‰è¡çªæ€§æˆ–è©±é¡Œæ€§çš„æ¨™é¡Œèˆ‡ç¸®åœ–ã€‚"
            }
          ]
        }
      },
      "id": "ea33aa97-56b5-4296-8705-6da0c78b7f65",
      "name": "æ¨™é¡Œèˆ‡åœ–ç‰‡å»ºç«‹",
      "type": "@n8n/n8n-nodes-langchain.chainLlm",
      "position": [
        3440,
        160
      ],
      "typeVersion": 1.4
    },
    {
      "parameters": {
        "operation": "create",
        "base": {
          "__rl": true,
          "value": "app24c0VmI2nKifUR",
          "mode": "list",
          "cachedResultName": "Content Pool",
          "cachedResultUrl": "https://airtable.com/app24c0VmI2nKifUR"
        },
        "table": {
          "__rl": true,
          "value": "tblJ9yTXT6DSItd4i",
          "mode": "list",
          "cachedResultName": "Content",
          "cachedResultUrl": "https://airtable.com/app24c0VmI2nKifUR/tblJ9yTXT6DSItd4i"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "Send2Social": false,
            "Source Type": "n8n Research",
            "Send_To_Platform": "={{ [\"Facebook\",\"LinkedIn\"] }}",
            "Copy": "={{ $('Senior Editor-æ•´ç†å ±å‘Š').item.json.output }}",
            "Title": "={{ $('æ¨™é¡Œèˆ‡åœ–ç‰‡å»ºç«‹').item.json.output.title }}"
          },
          "matchingColumns": [],
          "schema": [
            {
              "id": "ID",
              "displayName": "ID",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": true,
              "removed": true
            },
            {
              "id": "Idea",
              "displayName": "Idea",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Org Transcription",
              "displayName": "Org Transcription",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Copy",
              "displayName": "Copy",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Title",
              "displayName": "Title",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Images",
              "displayName": "Images",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "array",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "IG_Reel_Video",
              "displayName": "IG_Reel_Video",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "array",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Videos",
              "displayName": "Videos",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "array",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Source Type",
              "displayName": "Source Type",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "options",
              "options": [
                {
                  "name": "Idea Form",
                  "value": "Idea Form"
                },
                {
                  "name": "Community Post",
                  "value": "Community Post"
                },
                {
                  "name": "Audio Upload",
                  "value": "Audio Upload"
                },
                {
                  "name": "Video Upload",
                  "value": "Video Upload"
                },
                {
                  "name": "Web Content",
                  "value": "Web Content"
                },
                {
                  "name": "YT Transcription",
                  "value": "YT Transcription"
                },
                {
                  "name": "n8n Research",
                  "value": "n8n Research"
                }
              ],
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Trainsformation Actions",
              "displayName": "Trainsformation Actions",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "array",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Video_Bg",
              "displayName": "Video_Bg",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "array",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Send_To_Platform",
              "displayName": "Send_To_Platform",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "array",
              "options": [
                {
                  "name": "X/Twitter",
                  "value": "X/Twitter"
                },
                {
                  "name": "Instagram",
                  "value": "Instagram"
                },
                {
                  "name": "Facebook",
                  "value": "Facebook"
                },
                {
                  "name": "LinkedIn",
                  "value": "LinkedIn"
                },
                {
                  "name": "IG Reel",
                  "value": "IG Reel"
                }
              ],
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Send2Social",
              "displayName": "Send2Social",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "boolean",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Create_Date",
              "displayName": "Create_Date",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": true,
              "removed": true
            },
            {
              "id": "Action Name (from Trainsformation Actions)",
              "displayName": "Action Name (from Trainsformation Actions)",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": true,
              "removed": true
            },
            {
              "id": "ID (from Trainsformation Actions)",
              "displayName": "ID (from Trainsformation Actions)",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": true,
              "removed": true
            },
            {
              "id": "Webhook URL (from Trainsformation Actions)",
              "displayName": "Webhook URL (from Trainsformation Actions)",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": true,
              "removed": true
            },
            {
              "id": "bg_url",
              "displayName": "bg_url",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": true,
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.airtable",
      "typeVersion": 2.1,
      "position": [
        4160,
        280
      ],
      "id": "7bce1a2e-1543-436d-a17d-2df3e8162671",
      "name": "Airtable1",
      "credentials": {
        "airtableTokenApi": {
          "id": "oBSDcdxlAnZAEc4h",
          "name": "Airtable Personal Access Token account"
        }
      }
    },
    {
      "parameters": {
        "model": "=o3-mini-2025-01-31",
        "options": {}
      },
      "id": "71a7bfdd-f6ca-4dc2-8828-234edf4c6b58",
      "name": "o3-mini",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1,
      "position": [
        1180,
        360
      ],
      "credentials": {
        "openAiApi": {
          "id": "2Lh3Ct62UhbXC7jq",
          "name": "OpenAi account"
        }
      }
    },
    {
      "parameters": {
        "model": "=o3-mini-2025-01-31",
        "options": {}
      },
      "id": "a445c34a-582c-468e-8396-b6bb682a2c21",
      "name": "o3-mini1",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1,
      "position": [
        1580,
        360
      ],
      "credentials": {
        "openAiApi": {
          "id": "2Lh3Ct62UhbXC7jq",
          "name": "OpenAi account"
        }
      }
    },
    {
      "parameters": {
        "model": "anthropic/claude-3.7-sonnet",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenRouter",
      "typeVersion": 1,
      "position": [
        3040,
        360
      ],
      "id": "ba72a91f-aa4e-47f6-8d25-abf61372c88a",
      "name": "OpenRouter Chat Model",
      "credentials": {
        "openRouterApi": {
          "id": "3OIAHKkvc10ylb12",
          "name": "OpenRouter"
        }
      }
    },
    {
      "parameters": {
        "model": "anthropic/claude-3.5-sonnet",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenRouter",
      "typeVersion": 1,
      "position": [
        3460,
        360
      ],
      "id": "b3f8ebfd-b035-446f-8958-5d9961fcd6cb",
      "name": "OpenRouter Chat Model1",
      "credentials": {
        "openRouterApi": {
          "id": "3OIAHKkvc10ylb12",
          "name": "OpenRouter"
        }
      }
    },
    {
      "parameters": {
        "httpMethod": "POST",
        "path": "fcb69973-e0f4-4825-9e6e-97a5789fd6f8",
        "responseMode": "responseNode",
        "options": {}
      },
      "type": "n8n-nodes-base.webhook",
      "typeVersion": 2,
      "position": [
        640,
        20
      ],
      "id": "63485f9d-51c8-4b53-9e69-e79b14d7ea25",
      "name": "Webhook",
      "webhookId": "fcb69973-e0f4-4825-9e6e-97a5789fd6f8"
    },
    {
      "parameters": {
        "respondWith": "text",
        "responseBody": "={{ $json.output }}",
        "options": {
          "responseCode": 200
        }
      },
      "type": "n8n-nodes-base.respondToWebhook",
      "typeVersion": 1.1,
      "position": [
        4340,
        280
      ],
      "id": "42685845-d957-4f0d-82d9-edc45fb2b378",
      "name": "Respond to Webhook"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "60dd17d3-af0c-46f2-b786-5787047e7f89",
              "name": "Topic",
              "value": "={{ $json?.Topic || $json.body.Topic }}",
              "type": "string"
            },
            {
              "id": "a2652802-df46-4473-9897-5679f3ca729e",
              "name": "Tone",
              "value": "={{ $json?.Tone || 'å°ˆæ¥­' }}",
              "type": "string"
            },
            {
              "id": "d372fe22-9aa1-451d-be6f-e9d30b1928d9",
              "name": "Words",
              "value": "={{ $json.Words || 1500 }}",
              "type": "string"
            },
            {
              "id": "97a3ed31-5a02-4e9c-bd37-9abb3d68100b",
              "name": "Sections",
              "value": "={{ $json.Sections || 5 }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        1000,
        160
      ],
      "id": "4b073d21-5c9c-415c-bbfa-2803d6cd1837",
      "name": "Setting"
    }
  ],
  "pinData": {},
  "connections": {
    "n8n Form Trigger": {
      "main": [
        [
          {
            "node": "Setting",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Execute Workflow Trigger": {
      "main": [
        [
          {
            "node": "Perplexity API",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Perplexity API": {
      "main": [
        [
          {
            "node": "Response",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Structured Output Parser": {
      "ai_outputParser": [
        [
          {
            "node": "Project Manager-å·¥ä½œæ‹†è§£",
            "type": "ai_outputParser",
            "index": 0
          }
        ]
      ]
    },
    "Delegate to Research Assistants": {
      "main": [
        [
          {
            "node": "åˆä½µç« ç¯€æ¨™é¡Œèˆ‡å…§æ–‡",
            "type": "main",
            "index": 1
          },
          {
            "node": "Senior Researcher-æ·±å…¥ç ”ç©¶",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Perplexity_Search": {
      "ai_tool": [
        [
          {
            "node": "Research Manager-åˆ¶å®šæ¶æ§‹",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model 2": {
      "ai_languageModel": [
        [
          {
            "node": "Senior Researcher-æ·±å…¥ç ”ç©¶",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Perplexity_Search 2": {
      "ai_tool": [
        [
          {
            "node": "Project Manager-å·¥ä½œæ‹†è§£",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Perplexity_Search 3": {
      "ai_tool": [
        [
          {
            "node": "Senior Researcher-æ·±å…¥ç ”ç©¶",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Senior Editor-æ•´ç†å ±å‘Š": {
      "main": [
        [
          {
            "node": "æ¨™é¡Œèˆ‡åœ–ç‰‡å»ºç«‹",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Research Manager-åˆ¶å®šæ¶æ§‹": {
      "main": [
        [
          {
            "node": "Project Manager-å·¥ä½œæ‹†è§£",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Project Manager-å·¥ä½œæ‹†è§£": {
      "main": [
        [
          {
            "node": "Delegate to Research Assistants",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Senior Researcher-æ·±å…¥ç ”ç©¶": {
      "main": [
        [
          {
            "node": "åˆä½µç« ç¯€æ¨™é¡Œèˆ‡å…§æ–‡",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Google Docs": {
      "main": [
        [
          {
            "node": "Google Docs1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Wordpress": {
      "main": [
        [
          {
            "node": "Airtable",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "æ–‡ç« æ’ç‰ˆ": {
      "main": [
        [
          {
            "node": "Senior Editor-æ•´ç†å ±å‘Š",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Structured Output Parser1": {
      "ai_outputParser": [
        [
          {
            "node": "æ¨™é¡Œèˆ‡åœ–ç‰‡å»ºç«‹",
            "type": "ai_outputParser",
            "index": 0
          }
        ]
      ]
    },
    "åˆä½µç« ç¯€æ¨™é¡Œèˆ‡å…§æ–‡": {
      "main": [
        [
          {
            "node": "æ–‡ç« æ’ç‰ˆ",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "æ¨™é¡Œèˆ‡åœ–ç‰‡å»ºç«‹": {
      "main": [
        [
          {
            "node": "Google Docs",
            "type": "main",
            "index": 0
          },
          {
            "node": "Wordpress",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Airtable": {
      "main": [
        [
          {
            "node": "Airtable1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "o3-mini": {
      "ai_languageModel": [
        [
          {
            "node": "Research Manager-åˆ¶å®šæ¶æ§‹",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "o3-mini1": {
      "ai_languageModel": [
        [
          {
            "node": "Project Manager-å·¥ä½œæ‹†è§£",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "OpenRouter Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "Senior Editor-æ•´ç†å ±å‘Š",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "OpenRouter Chat Model1": {
      "ai_languageModel": [
        [
          {
            "node": "æ¨™é¡Œèˆ‡åœ–ç‰‡å»ºç«‹",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Webhook": {
      "main": [
        [
          {
            "node": "Setting",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Setting": {
      "main": [
        [
          {
            "node": "Research Manager-åˆ¶å®šæ¶æ§‹",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Airtable1": {
      "main": [
        [
          {
            "node": "Respond to Webhook",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": true,
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "3a0aaf02-1d00-4829-982f-d74bfe0a1f44",
  "meta": {
    "templateCredsSetupCompleted": true,
    "instanceId": "f1ebecbf08b94e56cb5800d7576e7d23fd19de8f753a7d14f117872b859ca2d0"
  },
  "id": "BpVNvlwFg51CHWb2",
  "tags": [
    {
      "createdAt": "2025-03-14T05:22:18.050Z",
      "updatedAt": "2025-03-14T05:22:18.050Z",
      "id": "PJmelrzuIfcnvASt",
      "name": "Deep Research"
    }
  ]
}