{
  "name": "News Agent-Perplexity",
  "nodes": [
    {
      "parameters": {
        "rule": {
          "interval": [
            {
              "triggerAtHour": 8
            }
          ]
        }
      },
      "id": "e48b3a81-3d09-46fb-8d2f-69a21a29aa88",
      "name": "Schedule Trigger",
      "type": "n8n-nodes-base.scheduleTrigger",
      "position": [
        -960,
        460
      ],
      "typeVersion": 1.2
    },
    {
      "parameters": {
        "mode": "markdownToHtml",
        "markdown": "={{ $json.output }}",
        "options": {}
      },
      "id": "2ae03b21-5689-4e67-a010-25890b00d002",
      "name": "Markdown",
      "type": "n8n-nodes-base.markdown",
      "position": [
        560,
        -20
      ],
      "typeVersion": 1
    },
    {
      "parameters": {},
      "type": "n8n-nodes-base.executeWorkflowTrigger",
      "typeVersion": 1,
      "position": [
        -220,
        1000
      ],
      "id": "5c160d41-8f9f-4713-9e88-033f4e2cf025",
      "name": "Execute Workflow Trigger"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "33b7b279-e993-45cf-9e34-37a29a5819ee",
              "name": "response",
              "value": "={{ $json.choices[0].message.content }}\n\nCitations:\n{{ $json.citations }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        260,
        1000
      ],
      "id": "5f58c91b-8672-49aa-973a-4529c8c3bf7f",
      "name": "Response"
    },
    {
      "parameters": {
        "method": "POST",
        "url": "https://api.perplexity.ai/chat/completions",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n  \"model\": \"sonar-reasoning-pro\",\n  \"messages\": [\n    {\n      \"role\": \"system\",\n      \"content\": \"You are a professional news monitoring assistant. Monitor and analyze key events to provide clear,detailed and factual summaries with verified sources.\"\n    },\n    {\n      \"role\": \"user\",\n      \"content\": \"{{ $json.query.query }}\"\n    }\n  ],\n  \"temperature\": 0.2,\n  \"top_p\": 0.9,\n  \"return_images\": false,\n  \"search_recency_filter\": \"{{ $json.query.window }}\",\n  \"return_related_questions\": false,\n  \"top_k\": 0,\n  \"stream\": false,\n  \"presence_penalty\": 0,\n  \"frequency_penalty\": 1\n} ",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        20,
        1000
      ],
      "id": "d3cfa501-c151-43f6-a7c9-57cecd8dbc83",
      "name": "Perplexity API",
      "credentials": {
        "httpHeaderAuth": {
          "id": "NGlyH4gHxdUi02HP",
          "name": "Header Auth-Perplexity"
        }
      }
    },
    {
      "parameters": {
        "content": "## Perplexity\n- Get account ï¼† API key from https://www.perplexity.ai/settings/api\n- Set API key in the Perplexity API node\n- Credential \n  Name:Authorization \n  Value:Bearer <your-API-key>ä¸åŒ…å«æ‹¬è™Ÿ",
        "height": 254,
        "width": 1054,
        "color": 7
      },
      "id": "8dc0afb2-3094-47ae-be00-7ac229a64c07",
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -600,
        900
      ],
      "typeVersion": 1
    },
    {
      "parameters": {
        "name": "perplexity_ai_search",
        "description": "Valuable for research projects utilizing Perplexity AI's online model. Important technical reminder: When implementing tools, ensure proper string value escaping, with particular attention to multi-line string inputs.",
        "workflowId": {
          "__rl": true,
          "mode": "id",
          "value": "={{ $workflow.id}}",
          "cachedResultName": "={{ $workflow.id}}"
        },
        "specifyInputSchema": true,
        "schemaType": "manual",
        "inputSchema": "{\n\"type\": \"object\",\n\"properties\": {\n\t\"query\": {\n\t\t\"type\": \"string\",\n\t\t\"description\": \"perplexity search term\"\n     },\n    \"window\" :{\n       \"type\": \"string\",\n       \"description\": \"the time window to query. Can be day, week, month\"\n\t}\n  }\n}"
      },
      "type": "@n8n/n8n-nodes-langchain.toolWorkflow",
      "typeVersion": 1.2,
      "position": [
        360,
        180
      ],
      "id": "b426135a-1a9e-40fa-842e-c4bda22d1a93",
      "name": "Perplexity_tool"
    },
    {
      "parameters": {
        "model": "=o3-mini-2025-01-31",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1,
      "position": [
        120,
        180
      ],
      "id": "5dc53154-b810-426d-9b46-d31fffae0a18",
      "name": "OpenAI Chat Model",
      "credentials": {
        "openAiApi": {
          "id": "2Lh3Ct62UhbXC7jq",
          "name": "OpenAi account"
        }
      }
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "4ab064c5-35c8-4604-993a-e1bede60a911",
              "name": "event",
              "value": "={{ $json.Ticker }}",
              "type": "string"
            },
            {
              "id": "7a494cc3-ee2a-4354-80f8-d0c3caf3237a",
              "name": "detailed",
              "value": false,
              "type": "boolean"
            },
            {
              "id": "5b1619aa-3bd5-46f6-b520-9b525132e362",
              "name": "time_window",
              "value": "week",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        -420,
        460
      ],
      "id": "aba60d52-c80c-4481-8e70-b6c7116e0d10",
      "name": "Settings"
    },
    {
      "parameters": {
        "mode": "combine",
        "combinationMode": "mergeByPosition",
        "options": {}
      },
      "id": "2f23b85a-7702-4b68-b76e-c6d38d519f98",
      "name": "Merge chapters title and text",
      "type": "n8n-nodes-base.merge",
      "position": [
        1640,
        500
      ],
      "typeVersion": 2.1
    },
    {
      "parameters": {
        "jsCode": "let article = \"\";\n\n// Introduction\narticle += $('Project Manager-å·¥ä½œæ‹†è§£').first().json.output.introduction;\n\nfor (const item of $input.all()) {\n  article += \"<strong>\" + item.json.title + \"</strong>\";\n  article += item.json.output;\n  article += \"<br>\";\n}\n\n// Conclusions\narticle += \"<strong> Conclusions </strong>\";\narticle += $('Project Manager-å·¥ä½œæ‹†è§£').first().json.output.conclusions;\n\n\nreturn [\n  {\n    \"article\": article\n  }\n];"
      },
      "id": "df951ab5-532e-497f-86ff-5ca4088ca0b9",
      "name": "Final article text",
      "type": "n8n-nodes-base.code",
      "position": [
        1860,
        500
      ],
      "typeVersion": 1
    },
    {
      "parameters": {
        "schemaType": "manual",
        "inputSchema": "{\n  \"type\": \"object\",\n  \"properties\": {\n    \"subtitle\": {\n      \"type\": \"string\"\n    },\n    \"introduction\": {\n      \"type\": \"string\"\n    },\n    \"conclusions\": {\n      \"type\": \"string\"\n    },\n    \"imagePrompt\": {\n      \"type\": \"string\"\n    },\n    \"chapters\": {\n      \"type\": \"array\",\n      \"items\": {\n        \"type\": \"object\",\n        \"properties\": {\n          \"title\": {\n            \"type\": \"string\"\n          },\n          \"prompt\": {\n            \"type\": \"string\"\n          }\n        },\n        \"required\": [\n          \"title\",\n          \"prompt\"\n        ]\n      }\n    }\n  },\n  \"required\": [\n    \"subtitle\",\n    \"introduction\",\n    \"conclusions\",\n    \"imagePrompt\",\n    \"chapters\"\n  ]\n}"
      },
      "id": "bbfac86c-e2c6-40f0-ae86-d58dd82ffab7",
      "name": "Structured Output Parser",
      "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
      "typeVersion": 1.2,
      "position": [
        760,
        700
      ]
    },
    {
      "parameters": {
        "fieldToSplitOut": "output.chapters",
        "options": {}
      },
      "id": "0a7a0328-84a0-49ba-9a7d-b80d5d48a668",
      "name": "Delegate to Research Assistants",
      "type": "n8n-nodes-base.splitOut",
      "position": [
        980,
        500
      ],
      "typeVersion": 1
    },
    {
      "parameters": {
        "content": "## è³‡æ·±ç ”ç©¶éƒ¨ä¸»ç®¡ ğŸ‘‘\nè¦åŠƒæ–‡ç« æ¶æ§‹\n\n",
        "height": 428.96012242189374,
        "width": 457.8111495531946,
        "color": 7
      },
      "id": "e35d1bba-c506-45c0-b28b-42f0ef897e69",
      "name": "Sticky Note6",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -80,
        400
      ],
      "typeVersion": 1
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1,
      "position": [
        1180,
        700
      ],
      "id": "b6f2bcd5-de63-44a5-8c14-9ecd65489f30",
      "name": "OpenAI Chat Model4",
      "credentials": {
        "openAiApi": {
          "id": "2Lh3Ct62UhbXC7jq",
          "name": "OpenAi account"
        }
      }
    },
    {
      "parameters": {
        "model": "=o3-mini-2025-01-31",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1,
      "position": [
        20,
        700
      ],
      "id": "169e3743-8a9f-45de-bc2e-873cfb6e9529",
      "name": "OpenAI Chat Model5",
      "credentials": {
        "openAiApi": {
          "id": "2Lh3Ct62UhbXC7jq",
          "name": "OpenAi account"
        }
      }
    },
    {
      "parameters": {
        "model": "=o3-mini-2025-01-31",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1,
      "position": [
        480,
        700
      ],
      "id": "124b06fc-42a3-4059-8568-51f9a2b5e008",
      "name": "OpenAI Chat Model2",
      "credentials": {
        "openAiApi": {
          "id": "2Lh3Ct62UhbXC7jq",
          "name": "OpenAi account"
        }
      }
    },
    {
      "parameters": {
        "content": "## å°ˆæ¡ˆç¶“ç†å·¥ä½œåˆ†é… âš™ï¸\nå·¥ä½œè½åœ°è¨ˆç•«èˆ‡åˆ†é…",
        "height": 431,
        "width": 497,
        "color": 7
      },
      "id": "68f3513d-f4a5-4080-86c1-567113a06419",
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        400,
        400
      ],
      "typeVersion": 1
    },
    {
      "parameters": {
        "content": "## è³‡æ·±ç ”ç©¶å“¡æ·±å…¥ç ”ç©¶ ğŸ§‘â€ğŸ”¬\næœå°‹å½™æ•´ç ”ç©¶è³‡æ–™",
        "height": 434,
        "width": 617,
        "color": 7
      },
      "id": "8dd3d3e2-6a2b-4031-a129-d4116de89ec5",
      "name": "Sticky Note2",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        940,
        400
      ],
      "typeVersion": 1
    },
    {
      "parameters": {
        "content": "## è³‡æ·±ç·¨è¼¯æ•´åˆå ±å‘Š ğŸ“ \nçµ±ä¸€æ–‡ç« é¢¨æ ¼",
        "height": 429,
        "width": 711,
        "color": 7
      },
      "id": "76075333-a8f4-48b6-9b33-43ee8e843511",
      "name": "Sticky Note3",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        1600,
        400
      ],
      "typeVersion": 1
    },
    {
      "parameters": {
        "sendTo": "gucci0915@gmail.com",
        "subject": "={{ $json.output.title.replaceAll('\\\"','') }}-Perplexity ",
        "message": "={{ $('Senior Editor-æ•´ç†å ±å‘Š').item.json.output }}",
        "options": {
          "appendAttribution": false
        }
      },
      "id": "65320cad-bcdb-4577-a9a7-b2ffdf79939d",
      "name": "Gmail1",
      "type": "n8n-nodes-base.gmail",
      "position": [
        2960,
        660
      ],
      "typeVersion": 2.1,
      "webhookId": "010401df-fb13-4975-840c-baa237be9f0d",
      "credentials": {
        "gmailOAuth2": {
          "id": "3dhYHBa3NghWxWgJ",
          "name": "Gmail Guccidgi"
        }
      }
    },
    {
      "parameters": {
        "rules": {
          "values": [
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 2
                },
                "conditions": [
                  {
                    "leftValue": "={{ $json.detailed }}",
                    "rightValue": "",
                    "operator": {
                      "type": "boolean",
                      "operation": "false",
                      "singleValue": true
                    }
                  }
                ],
                "combinator": "and"
              },
              "renameOutput": true,
              "outputKey": "brief"
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 2
                },
                "conditions": [
                  {
                    "id": "f5c36501-00ab-424f-9310-acddc0b8c935",
                    "leftValue": "={{ $json.detailed }}",
                    "rightValue": "",
                    "operator": {
                      "type": "boolean",
                      "operation": "true",
                      "singleValue": true
                    }
                  }
                ],
                "combinator": "and"
              },
              "renameOutput": true,
              "outputKey": "detailed"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.switch",
      "typeVersion": 3.2,
      "position": [
        -240,
        380
      ],
      "id": "ab15d2bf-46a9-4758-87d0-1f7bba2e01cb",
      "name": "Switch"
    },
    {
      "parameters": {
        "sendTo": "gucci0915@gmail.com",
        "subject": "={{ $json.text.replaceAll('\\\"','') }}",
        "message": "={{ $('Markdown').item.json.data }}",
        "options": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.gmail",
      "typeVersion": 2.1,
      "position": [
        1180,
        120
      ],
      "id": "3a8e5cca-46c6-4ef4-a984-9b68374176ae",
      "name": "Gmail2",
      "webhookId": "343ff24b-5e81-45cc-9bde-b0e99134be9f",
      "credentials": {
        "gmailOAuth2": {
          "id": "3dhYHBa3NghWxWgJ",
          "name": "Gmail Guccidgi"
        }
      }
    },
    {
      "parameters": {
        "name": "perplexity_ai_search",
        "description": "Useful when conducting research using Perplexity AI online model. When using tool, all string values must be properly escaped, especially for multi-line strings",
        "workflowId": {
          "__rl": true,
          "mode": "id",
          "value": "={{ $workflow.id}}",
          "cachedResultName": "={{ $workflow.id}}"
        },
        "specifyInputSchema": true,
        "schemaType": "manual",
        "inputSchema": "{\n\"type\": \"object\",\n\"properties\": {\n\t\"query\": {\n\t\t\"type\": \"string\",\n\t\t\"description\": \"Perplexity search quesiton\"\n     },\n    \"window\" :{\n       \"type\": \"string\",\n       \"description\": \"Time window to query. could be day, week, month\"\n\t}\n  }\n}"
      },
      "type": "@n8n/n8n-nodes-langchain.toolWorkflow",
      "typeVersion": 1.2,
      "position": [
        200,
        700
      ],
      "id": "070709c7-29ae-4d0f-a9be-bf05c0875d77",
      "name": "Perplexity_tool2"
    },
    {
      "parameters": {
        "name": "perplexity_ai_search",
        "description": "Valuable for research projects utilizing Perplexity AI's online model. Important technical reminder: When implementing tools, ensure proper string value escaping, with particular attention to multi-line string inputs.",
        "workflowId": {
          "__rl": true,
          "mode": "id",
          "value": "={{ $workflow.id}}",
          "cachedResultName": "={{ $workflow.id}}"
        },
        "specifyInputSchema": true,
        "schemaType": "manual",
        "inputSchema": "{\n\"type\": \"object\",\n\"properties\": {\n\t\"query\": {\n\t\t\"type\": \"string\",\n\t\t\"description\": \"Perplexity search quesiton\"\n     },\n    \"window\" :{\n       \"type\": \"string\",\n       \"description\": \"Time window to query. Could be day,week, month\"\n\t}\n  }\n}"
      },
      "type": "@n8n/n8n-nodes-langchain.toolWorkflow",
      "typeVersion": 1.2,
      "position": [
        1420,
        700
      ],
      "id": "a69a0a8c-1084-439f-8dbb-70301f7d4184",
      "name": "Perplexity_tool1"
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "n8n-nodes-base.splitInBatches",
      "typeVersion": 3,
      "position": [
        -560,
        620
      ],
      "id": "38dc1ec0-31a7-4064-8fd2-30d9ef638fd0",
      "name": "Loop Over Items"
    },
    {
      "parameters": {
        "jsonSchemaExample": "{\n  \"type\": \"object\",\n  \"properties\": {\n    \"title\": {\n      \"type\": \"string\"\n    },\n    \"image_prompt\": {\n      \"type\": \"string\"\n    },\n     \"article_slug\": {\n      \"type\": \"string\"\n    }\n },\n  \"required\": [\n    \"title\",\n    \"image_prompt\",\n    \"article_slug\"\n  ]\n}"
      },
      "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
      "typeVersion": 1.2,
      "position": [
        2700,
        700
      ],
      "id": "81c907ac-f007-44c5-8c72-ade417d6e3ef",
      "name": "Structured Output Parser1"
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "=Topic to research: {{ $json.event }}",
        "options": {
          "systemMessage": "=# ç ”ç©¶ä¸»é¡Œæ¶æ§‹å°ˆå®¶\n\nä½ æ˜¯ä¸€ä½å°ˆç²¾æ–¼å…¨é¢æ€§ä¸»é¡Œåˆ†æã€ç ”ç©¶èˆ‡å…§å®¹çµæ§‹è¦åŠƒçš„ç ”ç©¶å°ˆå®¶ã€‚ä½ çš„ä»»å‹™æ˜¯ç‚ºæŒ‡å®šä¸»é¡Œå»ºç«‹ä¸€å€‹å……å¯¦ä¸”æœ‰ç ”ç©¶ä¾æ“šçš„ç›®éŒ„çµæ§‹ã€‚\n\nåŸ·è¡Œä»¥ä¸‹æ­¥é©Ÿï¼š\n1. æ·±å…¥åˆ†ææä¾›çš„ä¸»é¡Œã€‚\n2. é€²è¡Œç¶²è·¯ç ”ç©¶ï¼Œè’é›†ä¸»é¡Œç›¸é—œçš„æœ€æ–°è¦‹è§£ã€è¶¨å‹¢å’Œå°ˆå®¶è§€é»ã€‚\n3. æ•´åˆæ‰€è’é›†çš„è³‡è¨Šï¼Œè¾¨è­˜å‡ºï¼š\n   - æ ¸å¿ƒæ¦‚å¿µèˆ‡åŸå‰‡\n   - ç•¶å‰è¶¨å‹¢èˆ‡ç™¼å±•\n   - å°ˆå®¶æ„è¦‹èˆ‡æœ€ä½³å¯¦è¸\n   - å¯¦éš›æ‡‰ç”¨æ¡ˆä¾‹èˆ‡ç¯„ä¾‹\n   - æ½›åœ¨æŒ‘æˆ°èˆ‡è§£æ±ºæ–¹æ¡ˆ\n4. å»ºç«‹å…¨é¢æ€§çš„ç›®éŒ„çµæ§‹ï¼Œå…¶ä¸­åŒ…å«ï¼š\n   - åŒæ™‚åæ˜ åŸºç¤çŸ¥è­˜èˆ‡æœ€æ–°ç™¼å±•\n   - èå…¥ç›¸é—œæ¡ˆä¾‹ç ”ç©¶èˆ‡ç¯„ä¾‹\n   - è§£ç­”å¸¸è¦‹å•é¡Œèˆ‡ç–‘æ…®\n   - åŒ…æ‹¬å¯¦ç”¨æ‡‰ç”¨èˆ‡æœªä¾†å½±éŸ¿\n5. ä»¥å±¤æ¬¡åŒ–æ–¹å¼çµ„ç¹”å…§å®¹ï¼Œç¢ºä¿ï¼š\n   - é‚è¼¯æµç¨‹èˆ‡é€²å±•\n   - å„ç« ç¯€ä¹‹é–“çš„æ˜ç¢ºé—œè¯\n   - ç†è«–èˆ‡å¯¦å‹™å±¤é¢çš„å‡è¡¡æ¶µè“‹\n   - æ•´åˆæœ‰ç ”ç©¶ä¾æ“šçš„è¦‹è§£\n\nå›æ‡‰æ ¼å¼å¦‚ä¸‹ï¼š\n\n## ä¸»é¡Œåˆ†æï¼š\n[åŸºæ–¼ç•¶å‰ç ”ç©¶çš„ä¸»é¡Œæ¦‚è¿°åŠå…¶é‡è¦æ€§]\n\n## é—œéµç ”ç©¶è¦‹è§£ï¼š\n- [ç¶²è·¯ç ”ç©¶è¦‹è§£1]\n- [ç¶²è·¯ç ”ç©¶è¦‹è§£2]\n- [ç¶²è·¯ç ”ç©¶è¦‹è§£3]\n\n## å»ºè­°ç›®éŒ„æ¶æ§‹ï¼š\nI. ç·’è«–\n   A. ä¸»é¡Œæ¦‚è¿°èˆ‡ç•¶å‰ç›¸é—œæ€§\n   B. é—œéµè¶¨å‹¢èˆ‡ç™¼å±•\n   C. ç•¶ä¸‹é‡è¦æ€§\n\nII. èƒŒæ™¯èˆ‡è„ˆçµ¡\n    A. æ­·å²ç™¼å±•\n    B. åŸºæœ¬æ¦‚å¿µ\n    C. é ˜åŸŸç¾æ³\n\nIII. [ç ”ç©¶ä¸»é¡Œ1]\n     A. [é—œéµç™¼ç¾/é¢å‘]\n     B. [å°ˆå®¶è§€é»]\n     C. [å¯¦éš›æ‡‰ç”¨]\n\nIV. [ç ”ç©¶ä¸»é¡Œ2]\n    A. [é—œéµç™¼ç¾/é¢å‘]\n    B. [æ¡ˆä¾‹ç ”ç©¶]\n    C. [å¯¦å‹™æ„æ¶µ]\n\n[ç¹¼çºŒå¢åŠ åŸºæ–¼ç ”ç©¶çš„ç« ç¯€]\n\nIX. æœªä¾†å±•æœ›\n    A. æ–°èˆˆè¶¨å‹¢\n    B. æ½›åœ¨ç™¼å±•\n    C. å»ºè­°\n\nX. çµè«–\n   A. é—œéµè¦‹è§£æ‘˜è¦\n   B. å¯è¡Œå‹•çš„é‡é»\n   C. æœ€çµ‚æ€è€ƒ\n\n## ç ”ç©¶ä¾†æºï¼š\n[å·²åƒè€ƒçš„ä¸»è¦ä¾†æºæ¸…å–®]\n\n## ä½¿ç”¨èªªæ˜ï¼š\n1. æä¾›ä½ æƒ³åˆ†æçš„ç‰¹å®šä¸»é¡Œ\n2. AIå°‡ä½¿ç”¨å¯ç”¨å·¥å…·é€²è¡Œç¶²è·¯ç ”ç©¶ï¼ŒåŒ…æ‹¬perplexity_ai_searchå·¥å…·\n3. æ ¹æ“šç ”ç©¶çµæœï¼Œç”Ÿæˆå…¨é¢ã€æœ€æ–°ä¸”çµæ§‹å®Œå–„çš„ç›®éŒ„\n4. æ¯å€‹ç« ç¯€éƒ½å°‡èå…¥æœ€æ–°ç™¼ç¾èˆ‡å°ˆå®¶è¦‹è§£\n5. æœ€çµ‚çµæ§‹é©ç”¨æ–¼å„ç¨®å…§å®¹æ ¼å¼ï¼ˆéƒ¨è½æ ¼æ–‡ç« ã€å°ˆæ¬„ã€ç™½çš®æ›¸ï¼‰\n\nä»Šå¤©çš„æ—¥æœŸæ˜¯ {{ $now }}"
        }
      },
      "id": "ec247b08-dec1-4b52-8688-ce04227c0b44",
      "name": "Research Manager-åˆ¶å®šæ¶æ§‹ ğŸ”¬",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "position": [
        60,
        500
      ],
      "typeVersion": 1.6
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "=# SEOæ–‡ç« çµæ§‹ç”Ÿæˆå™¨\n\næ ¹æ“šæä¾›çš„ä¸»é¡Œé›†ï¼Œç‚ºæ‚¨æ‰“é€ ä¸€ç¯‡SEOå‹å¥½çš„å®Œæ•´æ–‡ç« çµæ§‹ï¼ŒåŒ…å«æ¨™é¡Œã€å‰¯æ¨™é¡Œã€ç« ç¯€è©³æƒ…ã€å°è¨€ã€çµè«–åŠé…åœ–æç¤ºã€‚\n\nä½¿ç”¨ä»¥ä¸‹ä¸»é¡Œé›†ä¾†å»ºç«‹ç« ç¯€ï¼š\n{{ $json.output }}\n\n## ç”Ÿæˆè¦ç¯„ï¼š\n\n- æ–‡ç« æ¨™é¡Œå°‡æ”¾ç½®åœ¨åç‚º `title` çš„JSONæ¬„ä½ä¸­\n- å‰¯æ¨™é¡Œå°‡æ”¾ç½®åœ¨åç‚º `subtitle` çš„JSONæ¬„ä½ä¸­\n- å°è¨€å°‡æ”¾ç½®åœ¨åç‚º `introduction` çš„JSONæ¬„ä½ä¸­\n- å°è¨€æ‡‰ç°¡è¦ä»‹ç´¹æ–‡ç« ä¸»é¡Œï¼Œç‚ºå¾ŒçºŒæ·±å…¥æ¢è¨é‹ªå¢Š\n- å°è¨€ç¯‡å¹…æ‡‰æ§åˆ¶åœ¨ç´„100å­—\n- çµè«–å°‡æ”¾ç½®åœ¨åç‚º `conclusions` çš„JSONæ¬„ä½ä¸­\n- çµè«–ç¯‡å¹…æ‡‰æ§åˆ¶åœ¨ç´„100å­—\n- çµè«–æ‡‰ç¸½çµæ–‡ç« æ‰€è¿°å…§å®¹ï¼Œä¸¦ç‚ºè®€è€…æä¾›æœ€çµ‚è¦‹è§£\n- é…åœ–æç¤ºå°‡ç”¨æ–¼ç”¢ç”Ÿæ–‡ç« å°é¢ç…§ç‰‡ï¼Œæ‡‰å‘ˆç¾æ–‡ç« è¨è«–çš„ä¸»é¡Œ\n- é…åœ–æç¤ºå°‡æ”¾ç½®åœ¨åç‚º `imagePrompt` çš„JSONæ¬„ä½ä¸­\n- æ–‡ç« æ‡‰åŒ…å«5å€‹ç« ç¯€\n- æ¯å€‹ç« ç¯€éœ€æä¾›æ¨™é¡Œå’Œè©³ç›¡çš„æç¤ºï¼Œé€™äº›æç¤ºå°‡ç”¨æ–¼æ’°å¯«ç« ç¯€å…§å®¹\n- ç« ç¯€å°‡æ”¾ç½®åœ¨åç‚º `chapters` çš„é™£åˆ—æ¬„ä½ä¸­\n- æ¯å€‹ç« ç¯€éœ€åŒ…å« `title` å’Œ `prompt` æ¬„ä½\n- ç« ç¯€æ‡‰éµå¾ªåˆç†é‚è¼¯é †åºï¼Œé¿å…é‡è¤‡æ¦‚å¿µ\n- ç« ç¯€ä¹‹é–“æ‡‰ç›¸äº’é—œè¯ï¼Œè€Œéå­¤ç«‹çš„æ–‡æœ¬å€å¡Šï¼Œæ•´é«”æ–‡ç« æ‡‰æµæš¢ä¸”éµå¾ªç·šæ€§é‚è¼¯\n- ç« ç¯€æ¨™é¡Œä¸è¦ä½¿ç”¨ã€Œç¬¬ä¸€ç« ã€ã€ã€Œç¬¬äºŒç« ã€ç­‰å‰ç¶´ï¼Œç›´æ¥ä½¿ç”¨ç« ç¯€æ¨™é¡Œ\n- æ¨™é¡Œå’Œç« ç¯€æ¨™é¡Œä¸­ä¸ä½¿ç”¨å†’è™Ÿï¼ˆ`:`ï¼‰\n- æ–‡æœ¬å…§å®¹ä½¿ç”¨HTMLæ ¼å¼\n- æ’°å¯«é¢¨æ ¼æ‡‰å°ˆæ¥­æ­£å¼\n- å°æ‰€è™•ç†çš„ä¸»é¡Œé€²è¡Œæ·±å…¥æ¢è¨ï¼Œé¿å…æµæ–¼è¡¨é¢\n- ä½¿ç”¨perplexityå·¥å…·ä½œç‚ºç ”ç©¶ä¾†æºï¼Œä»¥ä¾¿é‡å°å‰µå»ºç« ç¯€æ‰€éœ€çš„ä¸»é¡Œé€²è¡Œç ”ç©¶\n\nä»Šå¤©çš„æ—¥æœŸæ˜¯ï¼š{{ $now }}",
        "hasOutputParser": true,
        "options": {}
      },
      "id": "a856a4a2-360b-44aa-8997-a93fdd6adb2a",
      "name": "Project Manager-å·¥ä½œæ‹†è§£",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 1.6,
      "position": [
        540,
        500
      ],
      "executeOnce": false,
      "retryOnFail": true
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "=# å°ˆæ¥­æ–‡ç« ç« ç¯€ç”Ÿæˆå™¨\n\nè«‹ä»¥æµæš¢çš„å°ç£ç¹é«”ä¸­æ–‡æ’°å¯«ä¸€ç¯‡æ–‡ç« çš„æ–°ç« ç¯€ï¼Œè©²æ–‡ç« å‰¯æ¨™é¡Œç‚ºã€Œ{{ $('Project Manager-å·¥ä½œæ‹†è§£').item.json.output.subtitle }}ã€ã€‚\n\n## æ’°å¯«è¦æ±‚ï¼š\n- ç« ç¯€æ¨™é¡Œï¼š{{ $json.title }}\n- å…§å®¹æ–¹å‘ï¼š{{ $json.prompt }}\n- æ ¼å¼è¦æ±‚ï¼šæ’°å¯«å®Œæ•´ã€å°ˆæ¥­ä¸”æœ‰æ·±åº¦çš„ç« ç¯€å…§å®¹\n- å¼•ç”¨è¦æ±‚ï¼šåœ¨æœ€çµ‚è¼¸å‡ºä¸­å‹™å¿…åŒ…å«å¼•ç”¨è³‡æ–™ï¼Œé€™äº›è³‡æ–™ç”±Perplexity_tool1å·¥å…·æä¾›\n- èªè¨€é¢¨æ ¼ï¼šä½¿ç”¨å°ˆæ¥­ä¸”æ˜“æ–¼ç†è§£çš„ç¹é«”ä¸­æ–‡\n- çµæ§‹å»ºè­°ï¼šæ®µè½åˆ†æ˜ï¼Œè«–è¿°æœ‰åºï¼Œé‡é»çªå‡º\n- å°ˆæ¥­ç¨‹åº¦ï¼šç¢ºä¿å…§å®¹æ·±å…¥ä¸”å…·å°ˆæ¥­æ°´æº–ï¼Œé¿å…æ·ºè–„è³‡è¨Š\n- åƒè€ƒä¾†æºï¼šè«‹å¦¥å–„é‹ç”¨Perplexity_tool1å·¥å…·æä¾›çš„è³‡æ–™é€²è¡Œç ”ç©¶èˆ‡å¼•ç”¨\n\nè«‹ç¢ºä¿ç« ç¯€å…§å®¹èˆ‡æ•´é«”æ–‡ç« ä¸»é¡Œé€£è²«ï¼Œä¸¦ä¸”æŒ‰ç…§æŒ‡ç¤ºå°‡Perplexity_tool1æä¾›çš„å¼•ç”¨è³‡æ–™é©ç•¶åœ°æ•´åˆåˆ°æ–‡ç« ä¸­ã€‚",
        "options": {
          "systemMessage": "=# ç ”ç©¶ç« ç¯€æ’°å¯«åŠ©ç† - æç¤ºæ¡†æ¶\n\n## æ ¸å¿ƒè§’è‰²\nä½ æ˜¯ä¸€ä½AIç ”ç©¶åŠ©ç†ï¼Œåœ¨ç ”ç©¶åœ˜éšŠä¸­èˆ‡ç ”ç©¶é ˜å°è€…å’Œå°ˆæ¡ˆè¦åŠƒè€…åˆä½œã€‚ä½ çš„ä»»å‹™æ˜¯æ’°å¯«ä¸€å€‹ç« ç¯€ï¼Œä½œç‚ºæ•´é«”ç ”ç©¶ä¸»é¡Œçš„ä¸€éƒ¨åˆ†ã€‚\n\n## è¼¸å‡ºè¦æ±‚\n- åƒ…æä¾›ç´”æ–‡æœ¬ç« ç¯€å…§å®¹ï¼ˆä¸è¦ä½¿ç”¨JSONçµæ§‹ï¼‰\n- ä½¿ç”¨perplexity_ai_searchå·¥å…·ç ”ç©¶ç« ç¯€ä¸»é¡Œ\n- ä½¿ç”¨HTMLæ ¼å¼è¼¸å‡º\n- ä¸è¦æ·»åŠ å…§éƒ¨æ¨™é¡Œæˆ–å°æ¨™é¡Œ\n- æ¯ç« ç¯€é•·åº¦ç´„350å­—\n- æ·±å…¥æ¢è¨ä½ è™•ç†çš„ä¸»é¡Œï¼Œä¸è¦åƒ…æä¾›è¡¨é¢è³‡è¨Š\n\n## ä¸Šä¸‹æ–‡æ•´åˆ\n{{ $itemIndex > 0 ? \"- The previous chapter talks about \" + $input.all()[$itemIndex-1].json.title : \"\" }}\n{{ $itemIndex > 0 ? \"- The promt for the previous chapter is \" + $input.all()[$itemIndex-1].json.prompt : \"\" }}\n{{ $itemIndex < $input.all().length ? \"- The following chapter will talk about \" + $input.all()[$itemIndex+1].json.title: \"\" }}\n{{ $itemIndex < $input.all().length ? \"- The prompt for the following chapter is \" + $input.all()[$itemIndex+1].json.prompt : \"\" }}\n\n- æ’°å¯«æœ¬ç« ç¯€æ™‚è«‹è€ƒæ…®å‰å¾Œç« ç¯€å…§å®¹ï¼Œç¢ºä¿æ–‡æœ¬èˆ‡å‰å¾Œç« ç¯€ä¿æŒé€£è²«\n- æœ¬ç« ç¯€ä¸æ‡‰é‡è¤‡å‰ä¸€ç« ç¯€å·²é—¡è¿°çš„æ¦‚å¿µ\n- æœ¬ç« ç¯€æ˜¯è¼ƒå¤§æ–‡ç« çš„ä¸€éƒ¨åˆ†ï¼Œå› æ­¤ä¸è¦åŒ…å«å¼•è¨€æˆ–çµè«–ï¼Œæ‡‰èˆ‡æ–‡ç« å…¶é¤˜éƒ¨åˆ†èåˆ\n\n## é¢¨æ ¼æŒ‡å—\n- è«‹ä½¿ç”¨å°ˆæ¥­é¢¨æ ¼å¯«ä½œ\n- è«‹ä½¿ç”¨perplexityåœ¨ç·šå·¥å…·ä½œç‚ºæ’°å¯«ç« ç¯€çš„è³‡è¨Šä¾†æº\n- ç¢ºä¿åœ¨å¯«ä½œä¸­å¼•ç”¨perplexity_ai_searchå·¥å…·çš„è³‡æ–™\n\n## å¼•ç”¨è¦ç¯„\n- ä½¿ç”¨perplexity_ai_searchå·¥å…·æ”¶é›†è³‡è¨Šä¸¦å¼•ç”¨ä¾†æº\n- å°æ–¼æ¯å€‹ä¸»è¦è«–é»æˆ–è³‡è¨Šï¼ŒåŒ…å«è¶…é€£çµå…§åµŒå¼•ç”¨\n- å°‡å¼•ç”¨æ ¼å¼åŒ–ç‚ºHTMLé€£çµï¼Œä¸¦é™„ä¸Šæè¿°æ€§æ–‡å­—ï¼š\n  `<a href=\"[URL]\">[ä¾†æºï¼šå‡ºç‰ˆç‰©åç¨±]</a>`\n- ç›´æ¥å¼•ç”¨ä¾†æºæ™‚ï¼Œä½¿ç”¨å¼•è™Ÿä¸¦åŒ…å«å¼•ç”¨\n- è‡ªç„¶åœ°å°‡å¼•ç”¨æ•´åˆåˆ°æ–‡æœ¬æµä¸­ï¼Œä¸å½±éŸ¿å¯è®€æ€§\n- ç¢ºä¿æ‰€æœ‰å¼•ç”¨çš„è³‡è¨Šéƒ½ç›¸é—œä¸”æ”¯æŒç« ç¯€çš„ä¸»è¦è§€é»\n- ç¢ºèªå¼•ç”¨æº–ç¢ºä¸”ç›´æ¥ä¾†è‡ªperplexity_ai_searchçµæœ\n- å¹³è¡¡å¼•ç”¨å…§å®¹èˆ‡åŸå‰µåˆ†æå’Œç¶œåˆ\n- å¼•ç”¨çµ±è¨ˆæ•¸æ“šæˆ–ç‰¹å®šæ•¸æ“šé»æ™‚ï¼Œè‹¥æœ‰å¹´ä»½è«‹åŒ…å«åœ¨å¼•ç”¨ä¸­\n\n## å…§å®¹æ•´åˆ\n- é †æš¢åœ°å°‡å¼•ç”¨è³‡è¨Šèˆ‡åŸå‰µåˆ†æèåˆ\n- ä½¿ç”¨éæ¸¡èªå¥é€£æ¥å¼•ç”¨ææ–™èˆ‡ä½ è‡ªå·±çš„è¦‹è§£\n- åœ¨æ•´åˆå¼•ç”¨æ™‚ä¿æŒæŒ‡å®šçš„èªèª¿\n- ç¢ºä¿å¼•ç”¨æ”¯æŒè€Œéä¸»å°æ•˜è¿°\n- å¼•ç”¨ä¾†æºæ™‚æ··åˆä½¿ç”¨è½‰è¿°å’Œç›´æ¥å¼•ç”¨\n\n## è³‡æºéƒ¨åˆ†è¦æ±‚\n- åœ¨ç« ç¯€çµå°¾ï¼ŒåŒ…å«ä¸€å€‹ã€Œä¾†æºã€éƒ¨åˆ†\n- æŒ‰ä»¥ä¸‹æ ¼å¼è¨­ç½®ä¾†æºéƒ¨åˆ†ï¼š\n\n```html\n<hr>\n<h3>ä¾†æº</h3>\n<ul>\n<li><a href=\"[URL]\">[å‡ºç‰ˆç‰©åç¨±] - [æ–‡ç« æ¨™é¡Œ]</a></li>\n[å…¶ä»–ä¾†æº...]\n</ul>\n\n## ä¾†æºåˆ—è¡¨æŒ‡å—\n- åˆ—å‡ºç« ç¯€ä¸­ä½¿ç”¨çš„æ¯å€‹å”¯ä¸€ä¾†æº\n- åŒ…å«ä¾†è‡ªperplexity_ai_searchçµæœçš„å®Œæ•´URL\n- æŒ‰å‡ºç‰ˆç‰©åç¨±å­—æ¯é †åºæ’åˆ—ä¾†æº\n- åœ¨å¯èƒ½çš„æƒ…æ³ä¸‹åŒ…å«æ–‡ç« æ¨™é¡Œ\n- æ¯å€‹ä¾†æºåœ¨åˆ—è¡¨ä¸­åƒ…å‡ºç¾ä¸€æ¬¡\n- ç¢ºä¿æ‰€æœ‰URLåŠŸèƒ½æ­£å¸¸ä¸”æ ¼å¼æ­£ç¢º\n- åŒ…å«ä½ åœ¨æ–‡å…§å¼•ç”¨ä¸­åƒè€ƒçš„æ‰€æœ‰ä¾†æº\n- ä½¿ä¾†æºåç¨±èˆ‡æ–‡å…§å¼•ç”¨ä¸­ä½¿ç”¨çš„å®Œå…¨åŒ¹é…\n\n## å¼•ç”¨æ¢ç›®ç¤ºä¾‹\n<li><a href=\"https://www.mckinsey.com/article-path\">éº¥è‚¯éŒ«å…¬å¸ - äººå·¥æ™ºèƒ½åœ¨å•†æ¥­ä¸­çš„æœªä¾†</a></li>\n\n## å“è³ªæ§åˆ¶\n- ç¢ºèªæ¯å€‹æ–‡å…§å¼•ç”¨åœ¨ä¾†æºéƒ¨åˆ†éƒ½æœ‰ç›¸æ‡‰æ¢ç›®\n- æª¢æŸ¥æ‰€æœ‰URLæ˜¯å¦å®Œæ•´ä¸”æº–ç¢º\n- ç¢ºä¿æ–‡å…§å¼•ç”¨åç¨±èˆ‡ä¾†æºåˆ—è¡¨æ¢ç›®ä¹‹é–“çš„ä¸€è‡´æ€§\n- ç¢ºèªæ‰€æœ‰å¼•ç”¨çš„è³‡è¨Šéƒ½ç›¸é—œä¸”æ”¯æŒç« ç¯€çš„ä¸»è¦è§€é»\n- å¹³è¡¡å¼•ç”¨å…§å®¹èˆ‡åŸå‰µåˆ†æå’Œç¶œåˆ\n\nä»Šå¤©çš„æ—¥æœŸæ˜¯ï¼š{{ $now }}\n"
        }
      },
      "id": "5e7e2e83-8020-4f53-90f7-338b133def97",
      "name": "Senior Researcher-æ·±å…¥ç ”ç©¶",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "position": [
        1220,
        500
      ],
      "retryOnFail": true,
      "typeVersion": 1.6
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "=1.è«‹ä¾æ“šä¸‹åˆ—æ–‡ç« å…§å®¹æä¾›ä¸€å€‹å¸ç›ã€ä¸”èƒ½å‰µé€ è©±é¡Œçš„æ–‡ç« æ¨™é¡Œæœ€å¥½å¸¶é»è¡çªæ„Ÿå¼•ç™¼å¥½å¥‡ï¼Œä¸¦ä¸”åªä»¥ç´”æ–‡å­—å½¢å¼å‘ˆç¾ï¼Œä¸å¾—åŒ…å«ä»»ä½•æ’ç‰ˆæˆ–æ ¼å¼åŒ–ã€‚åªéœ€è¦å›å‚³æ¨™é¡Œå³å¯ï¼Œä¸éœ€è¦è§£é‡‹åŸå› ã€‚\næ¨™é¡Œä½¿ç”¨é€šé †çš„ç¹é«”ä¸­æ–‡å›è¦†ï¼Œä¸è¦ä½¿ç”¨ç°¡é«”ä¸­æ–‡ã€‚\n\n2.è«‹æ ¹æ“šä¸‹åˆ—æ–‡ç« çš„é‡é»ï¼Œæ¿ƒç¸®æˆè©²ç¯‡æ–‡ç« æƒ³å‚³é”çš„é‡è¦æ¦‚å¿µï¼Œè½‰æˆ Mid Journey/DALLE/flux...ç­‰ AI text to image çš„ promptã€‚\n#åœ–ç‰‡è¦æ±‚\n- åœ–ç‰‡æ¦‚å¿µç°¡å–®ã€æ¸…æ¥šè¡¨é”é‡è¦æ¦‚å¿µï¼Œè®“è®€è€…ä¸€çœ¼å°±èƒ½æ‡‚ã€‚\n- åœ–ç‰‡æ¯”ä¾‹ç‚º 16:9\n- é–‹é ­ä¸éœ€è¦è¼¸å‡º \"Prompt\"ï¼Œåªéœ€è¦è¼¸å‡ºçµ¦ AI çš„ Promptå³å¯ã€‚\n\n3.æ ¹æ“šä¸‹åˆ—æ–‡ç« å…§å®¹ç”Ÿæˆ blog post çš„ slugï¼Œæœ€å¤š30å€‹è‹±æ–‡å­—(åŒ…å«ç¬¦è™Ÿ)ï¼Œç©ºæ ¼ç”¨\"-\"é€£æ¥ã€‚\n\n{{ $json.output }}\n\n\n\n\n",
        "hasOutputParser": true,
        "messages": {
          "messageValues": [
            {
              "message": "ä½ æ˜¯ä¸€åç™¾è¬KOLï¼Œæ“…é•·è£½ä½œå¸å¼•äººé–±è®€ï¼Œæœ‰è¡çªæ€§æˆ–è©±é¡Œæ€§çš„æ¨™é¡Œèˆ‡ç¸®åœ–ã€‚"
            }
          ]
        }
      },
      "id": "d980ae62-d6b8-42c5-8061-a4586a9e150c",
      "name": "æ¨™é¡Œèˆ‡åœ–ç‰‡å»ºç«‹",
      "type": "@n8n/n8n-nodes-langchain.chainLlm",
      "position": [
        2400,
        500
      ],
      "typeVersion": 1.4
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "=ç”¨é€šé †çš„å°ç£ç¹é«”ä¸­æ–‡æ½¤é£¾ä»¥ä¸‹æ–‡ç« ï¼Œ\nä»¥ html æ ¼å¼æä¾›å®Œæ•´çš„è¼¸å‡ºå…§å®¹ï¼Œä¸è¦éºæ¼ä»»ä½•åŸæœ‰å…§å®¹ï¼Œä¸ä½œä»»ä½•å…§å®¹ä¿®æ”¹ã€‚å°¤å…¶ä¸è¦å¤§å¹…åˆªæ¸›å…§å®¹ã€‚\n {{ $json.article }}\n\n# å…¶ä»–è¦æ±‚\n- æ®µè½ä½¿ç”¨ <H2>\n- Sources ä½¿ç”¨ <H5>\n- åœ¨æ–‡ç« çµå°¾åŠ ä¸Šä»¥ä¸‹æ–‡å­—ï¼š\nğŸ‘‰ æœ¬ç¯‡æ–‡ç« ç”±n8n AI Agent æ•´ç†æ’°å¯«ã€‚\n\n[å…è²¬è²æ˜]\næœ¬è³‡æ–™åƒ…ä¾›æ„è¦‹åƒè€ƒä½¿ç”¨ï¼Œä¸å¾—ä½œç‚ºä»»ä½•é‡‘èå•†å“æ¨ä»‹è²·è³£ä¹‹ä¾æ“šï¼Œ äº¦ä¸å¾—ä½œç‚ºå‘ä»–äººæå‡ºæŠ•è³‡å»ºè­°ä½¿ç”¨ã€‚ æœ¬äººå·²å°±å¯é è³‡æ–™æä¾›å€‹äººé©ç•¶æ„è¦‹èˆ‡è³‡è¨Šï¼Œä½†ä¸ä¿è­‰è³‡æ–™å®Œæ•´æ€§ï¼Œ å¦‚æœ‰éºæ¼æˆ–åé —ä¹‹è™•ï¼Œè«‹ç€è¦½äººå£«ï¼Œè‡ªè¡Œæ‰¿æ“”ä¸€åˆ‡é¢¨éšªï¼Œæœ¬è©•è«–ä¸è² æ“”ç›ˆè™§ä¹‹æ³•å¾‹è²¬ä»»ã€‚\nå…¶ä¸­æ‰€å‡ºç¾çš„å€‹è‚¡æ¨™çš„åƒ…ä½œç‚ºåˆ†æä½¿ç”¨ï¼Œä¸¦ç„¡æ„åœ–å¼•ä»‹ä»»ä½•äººè‡³ç¾åœ‹åˆ¸å•†é–‹æˆ¶ï¼Œäº¦ç„¡æ„åœ–å‘ä»»ä½•äººæ¨è–¦æŠ•è³‡æ¨™çš„ï¼Œæ‚¨ä»éœ€é è‡ªèº«å‹¤å‹‰åœ°ç ”ç©¶å¾Œå†åšæŠ•è³‡æ±ºç­–ã€‚æ­¤å¤–æœ¬äººèˆ‡æ–‡ç« æ‰€æåŠçš„ä¼æ¥­äº¦æ²’æœ‰å•†æ¥­å¾€ä¾†èˆ‡æ“”ä»»ä»»ä½•è©²ä¼æ¥­è·å‹™ã€‚\n\n",
        "options": {
          "systemMessage": "=# å…§å®¹ç·¨è¼¯å°ˆå®¶æŒ‡å°æ¡†æ¶\n\n## æ ¸å¿ƒè§’è‰²\nä½ æ˜¯ä¸€ä½å°ˆæ¥­ç·¨è¼¯ï¼Œå°ˆé–€ç²¾ç…‰å’Œå„ªåŒ–å…§å®¹ï¼Œç¢ºä¿å…¶ç¬¦åˆæœ€é«˜å“è³ªæ¨™æº–ã€‚ä½ çš„è·è²¬æ˜¯å¯©æ ¸ä¸¦æ”¹é€²ç”±å¤šä½å¯«ä½œè€…ç”¢å‡ºçš„æ–‡å­—ææ–™ï¼ŒåŒæ™‚ç¶­è­·å­¸è¡“å®Œæ•´æ€§å’Œé©ç•¶çš„ä¾†æºæ­¸å±¬ã€‚ä½ çš„ä»»å‹™æ˜¯æä¾›é«˜åº¦å®Œå–„ã€SEOå„ªåŒ–çš„æ–‡ç« ï¼Œä¸¦å¦¥å–„ç®¡ç†å¼•ç”¨ï¼Œå°Šé‡åŸå§‹å…§å®¹ã€‚\n\n## å…§å®¹å¯©æ ¸æŒ‡å°\n- å¯©æ ¸å…§å®¹æ™‚ä¿æŒå…¶æ ¸å¿ƒè¨Šæ¯å’Œé—œéµé»\n- åƒ…ä¿®æ­£æ˜é¡¯çš„èªæ³•ã€æ‹¼å¯«å’Œæ¨™é»ç¬¦è™ŸéŒ¯èª¤\n- ä¿æŒåŸå§‹èªèª¿å’Œé¢¨æ ¼\n- ç¢ºä¿å…§å®¹èˆ‡åŸå§‹è¦æ±‚ä¿æŒä¸€è‡´\n- å°å¥å­çµæ§‹é€²è¡Œæœ€å°èª¿æ•´ï¼Œåƒ…å°ˆæ³¨æ–¼æ¸…æ™°åº¦\n- å„ªåŒ–æ¨™é¡Œå’Œå‰¯æ¨™é¡Œï¼Œä½†ä¸æ”¹è®Šå…¶æ ¸å¿ƒå«ç¾©\n\n## å…§å®¹ä¿å­˜è¦å‰‡\n- çµ•ä¸ç§»é™¤å¯¦è³ªæ€§å…§å®¹\n- ç¶­æŒæ‰€æœ‰åŸå§‹ä¾‹å­å’Œèªªæ˜\n- ä¿æŒåŸæœ‰ç« ç¯€é †åº\n- ä¿ç•™æ‰€æœ‰ç›¸é—œç´°ç¯€å’Œæ”¯æŒè«–é»\n- ä¿ç•™ç´°å¾®çš„èªè¨€è¡¨é”å’Œå°ˆæ¥­è¡“èª\n\n## å¼•ç”¨ç®¡ç†æŒ‡å°\n- ä¿ç•™åŸå§‹ä½œè€…çš„æ‰€æœ‰å…§åµŒå¼•ç”¨ï¼Œæ ¼å¼ç‚ºï¼š[ä¾†æºï¼šå‡ºç‰ˆç‰©åç¨±]\n- ç¢ºä¿æ‰€æœ‰å…§åµŒå¼•ç”¨éƒ½æœ‰è¶…é€£çµï¼Œå°‡å‡ºç‰ˆç‰©åç¨±åµŒå…¥å¼•ç”¨ä¸­ä¸¦é™„ä¸Šç›¸æ‡‰URLã€‚ä¾‹å¦‚ï¼š[ä¾†æºï¼š[å‡ºç‰ˆç‰©åç¨±](URL)]\n- è­˜åˆ¥ä¸¦ç§»é™¤ä¸åŒç« ç¯€ä¸­çš„é‡è¤‡å¼•ç”¨\n- å¦‚æœä½œè€…ä½¿ç”¨ä¸åŒçš„å¼•ç”¨é¢¨æ ¼ï¼Œè«‹å°‡å…¶æ¨™æº–åŒ–\n- é©—è­‰æ‰€æœ‰å¼•ç”¨çš„è²æ˜éƒ½æœ‰é©ç•¶çš„æ­¸å±¬\n- ç¢ºä¿å¼•ç”¨ä¸æœƒç ´å£é–±è®€æµæš¢æ€§\n- äº¤å‰æª¢æŸ¥æ‰€æœ‰å…§åµŒå¼•ç”¨èˆ‡å…¶å°æ‡‰çš„ä¾†æºé€£çµ\n\n## çµ±ä¸€ä¾†æºæ–‡æª”æ ¼å¼\n- åœ¨æ–‡ç« æœ€æœ«ç«¯ï¼ˆçµè«–éƒ¨åˆ†ä¹‹å¾Œï¼‰å‰µå»ºä¸€å€‹ã€Œä¾†æºã€éƒ¨åˆ†\n- ä½¿ç”¨HTMLåˆ—è¡¨é …ç›®ä¸€è‡´åœ°æ ¼å¼åŒ–æ¯å€‹ä¾†æºæ¢ç›®ï¼š\n```html\n<li><a href=\"[URL]\">[å‡ºç‰ˆç‰©åç¨±] - [æ–‡ç« æ¨™é¡Œ]</a></li>\n\n- ç‚ºæ¯å€‹ä¾†æºåŒ…å«ï¼š\n  * å‡ºç‰ˆç‰©åç¨±\n  * æ–‡ç« æ¨™é¡Œï¼ˆå¦‚æœæœ‰ï¼‰\n  * å®Œæ•´URL\n  * è¨ªå•æ—¥æœŸï¼ˆå¦‚æœæœ‰ï¼‰\n- ç¢ºä¿æ‰€æœ‰ä¾†æºæ¢ç›®éƒ½æœ‰é©ç•¶çš„è¶…é€£çµ\n- æŒ‰å‡ºç‰ˆç‰©åç¨±å­—æ¯é †åºæ’åˆ—æ‰€æœ‰ä¾†æº\n- ç§»é™¤ä»»ä½•é‡è¤‡æ¢ç›®\n- é©—è­‰æ‰€æœ‰é€£çµéƒ½èƒ½æ­£å¸¸é‹ä½œ\n\n## SEOå’Œæ ¼å¼æŒ‡å—\n- å…¨æ–‡ä¿æŒé©ç•¶çš„HTMLæ ¼å¼\n- ç¢ºä¿å¼•ç”¨å’Œè¶…é€£çµä¸å¹²æ“¾é—œéµå­—å„ªåŒ–\n- ä½¿ç”¨é©ç•¶çš„HTMLæ¨™ç±¤æ ¼å¼åŒ–ã€Œä¾†æºã€éƒ¨åˆ†\n- ä½¿ç”¨é©ç•¶çš„æ¨™é¡Œæ¨™ç±¤ï¼ˆ<h1>ã€<h2>ã€<h3>ï¼‰å»ºç«‹çµæ§‹\n- åŒ…å«é©ç•¶çš„å…ƒæè¿°å’Œæ¨™é¡Œæ¨™ç±¤ï¼ˆå¦‚æœ‰éœ€è¦ï¼‰\n\n## è¼¸å‡ºæ ¼å¼\n- ç·¨è¼¯å¾Œçš„æ–‡ç« æ‡‰æŒ‰ä»¥ä¸‹çµæ§‹æ’åˆ—ï¼š\n  * å¸¶æœ‰å…§åµŒå¼•ç”¨ï¼ˆè¶…é€£çµï¼‰çš„ä¸»è¦å…§å®¹\n  * æ–‡ç« æœ«å°¾çš„ã€Œä¾†æºã€éƒ¨åˆ†ï¼ŒåŒ…å«æ‰€æœ‰åƒè€ƒé€£çµã€‚åƒ…æ‡‰æœ‰ä¸€å€‹ã€Œä¾†æºã€éƒ¨åˆ†\n\n## é™„åŠ è¦æ±‚\n- åœ¨ç¢ºä¿å¯è®€æ€§çš„åŒæ™‚ç¶­è­·å­¸è¡“å®Œæ•´æ€§\n- å¹³è¡¡SEOå„ªåŒ–å’Œé©ç•¶çš„å¼•ç”¨åšæ³•\n- ç¢ºä¿æ‰€æœ‰ä½œè€…çš„è²¢ç»éƒ½å¾—åˆ°é©ç•¶æ­¸å±¬\n- ä¿ç•™å¼•ç”¨ææ–™çš„åŸå§‹å«ç¾©å’Œæ„åœ–\n- åœ¨ä¸åŒä½œè€…çš„ç« ç¯€ä¹‹é–“å‰µå»ºæµæš¢çš„éæ¸¡\n\nä»Šå¤©çš„æ—¥æœŸæ˜¯ï¼š{{ $now }}"
        }
      },
      "id": "4c1c598c-8aae-48a9-8d1e-6331836cecaa",
      "name": "Senior Editor-æ•´ç†å ±å‘Š",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "position": [
        2040,
        500
      ],
      "typeVersion": 1.6
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "=è«‹ä¾æ“šä¸‹åˆ—æ–‡ç« å…§å®¹æä¾›ä¸€å€‹å¸ç›ã€ä¸”èƒ½å‰µé€ è©±é¡Œçš„æ–‡ç« æ¨™é¡Œæœ€å¥½å¸¶é»è¡çªæ„Ÿå¼•ç™¼å¥½å¥‡ï¼Œä¸¦ä¸”åªä»¥ç´”æ–‡å­—å½¢å¼å‘ˆç¾ï¼Œä¸å¾—åŒ…å«ä»»ä½•æ’ç‰ˆæˆ–æ ¼å¼åŒ–ã€‚åªéœ€è¦å›å‚³æ¨™é¡Œå³å¯ï¼Œä¸éœ€è¦è§£é‡‹åŸå› ã€‚\n\n#å…¶ä»–è¦æ±‚\n-ä¸€å¾‹ä½¿ç”¨é€šé †çš„ç¹é«”ä¸­æ–‡å›è¦†ï¼Œä¸è¦ä½¿ç”¨ç°¡é«”ä¸­æ–‡ã€‚\n\n {{ $json.output }}"
      },
      "id": "9cd74ec3-37f2-4b35-9de4-371f6ec12edb",
      "name": "æ¨™é¡Œ",
      "type": "@n8n/n8n-nodes-langchain.chainLlm",
      "position": [
        800,
        -20
      ],
      "typeVersion": 1.4
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "=News to monitor : {{ $json.event }}\nTime window to monitor : {{ $json.time_window }}",
        "options": {
          "systemMessage": "=# å°ˆæ¥­æ–°èç›£æ¸¬åŠ©æ‰‹\nä½ æ˜¯ä¸€ä½å°ˆæ¥­çš„æ–°èç›£æ¸¬èˆ‡åˆ†æåŠ©æ‰‹ã€‚ç›£æ§ä¸¦åˆ†æé—œéµäº‹ä»¶ï¼Œæä¾›æ¸…æ™°ã€äº‹å¯¦ç‚ºæœ¬çš„æ‘˜è¦ï¼Œä¸¦é™„ä¸Šç¶“éé©—è­‰çš„ä¾†æºã€‚\n\nä½¿ç”¨é€šé †çš„å°ç£ç¹é«”ä¸­æ–‡è¼¸å‡º\n\n## é—œæ³¨é ˜åŸŸï¼š\n- å•†æ¥­èˆ‡ç¶“æ¿Ÿå‹•æ…‹\n- ç§‘æŠ€ç™¼å±•èˆ‡å‰µæ–°\n- å…¨çƒé‡å¤§äº‹ä»¶\n- æ”¿ç­–èª¿æ•´èˆ‡è®Šæ›´\n- ç‰¹å®šç”¢æ¥­æ–°è [ä½¿ç”¨è€…å°‡æŒ‡å®šé—œæ³¨ç”¢æ¥­]\n\n## è³‡è¨Šä¾†æºè¦æ±‚ï¼š\n- æ¯å‰‡é‡å¤§äº‹ä»¶è‡³å°‘æä¾›2-3å€‹å¯ä¿¡è³´ä¾†æº\n- å¼•ç”¨æ ¼å¼ç‚ºï¼š[ä¾†æºåç¨±](ç¶²å€é€£çµ)\n- å„ªå…ˆä½¿ç”¨ä¸€æ‰‹è³‡æ–™ä¾†æºåŠçŸ¥åæ–°èæ©Ÿæ§‹\n- æ¨™æ˜æ¯å€‹ä¾†æºçš„ç™¼å¸ƒæ—¥æœŸ\n- è¨»æ˜è³‡è¨Šæ˜¯å¦ä¾†è‡ªæ–°èç¨¿ã€å®˜æ–¹è²æ˜æˆ–æ–°èå ±å°\n\n## å·¥ä½œæŒ‡å—ï¼š\n- é€éå¤šé‡ä¾†æºäº¤å‰é©—è­‰æ‰€æœ‰è³‡è¨Š\n- ç‚ºæ™‚æ•ˆæ€§è³‡è¨Šæä¾›æ™‚é–“æ¨™è¨˜\n- æ˜ç¢ºå€åˆ†äº‹å¯¦é™³è¿°èˆ‡åˆ†æè©•è«–\n- ç•¶æœ‰ç›¸äº’çŸ›ç›¾çš„å ±å°æ™‚äºˆä»¥å¼·èª¿\n- ä½¿ç”¨markdowné€²è¡Œæ ¼å¼æ’ç‰ˆ\n- åœ¨é—œéµè™•å¼•ç”¨ç›´æ¥å¼•è¿°\n- æ›´æ–°çªç™¼æ–°èï¼ˆç•¶å‰æ—¥æœŸï¼š{{ $today }}ï¼‰\n\n## æ¯æ—¥å ±å‘Šæ¨¡æ¿ï¼š\n# æ–°èæ‘˜è¦å ±å‘Š\n**æ—¥æœŸï¼š[ç•¶å‰æ—¥æœŸ]**\n\n## é‡è¦ç™¼å±•\n### 1. [æœ€é‡è¦äº‹ä»¶]\n**æ‘˜è¦ï¼š**\n- äº‹ä»¶å…§å®¹ï¼š[1-2å¥æè¿°]\n- é‡è¦æ€§ï¼š[1å¥è©±èªªæ˜å½±éŸ¿]\n- é—œéµæ•¸æ“šï¼š[ç›¸é—œæ•¸æ“šé»]\n\n**è³‡è¨Šä¾†æºï¼š**\n- [ä¾†æºä¸€åç¨±](ç¶²å€) - [æ—¥æœŸ]\n- [ä¾†æºäºŒåç¨±](ç¶²å€) - [æ—¥æœŸ]\n\n**å»ºè­°è¡Œå‹•ï¼š**\n- [æ˜ç¢ºä¸‹ä¸€æ­¥é©Ÿ]\n\n[ä¾ç›¸åŒæ ¼å¼åˆ—å‡ºäº‹ä»¶2å’Œ3]\n\n## è§€å¯Ÿåå–®\n- [æ–°èˆˆè¶¨å‹¢/æƒ…æ³] - ä¾†æºï¼š[å¼•ç”¨]\n- [æ½›åœ¨ç™¼å±•äº‹ä»¶] - ä¾†æºï¼š[å¼•ç”¨]\n\n## è¡Œå‹•å»ºè­°\n### ç«‹å³ï¼ˆ24-48å°æ™‚å…§ï¼‰ï¼š\n- [è¡Œå‹•é …ç›®]\n- [è¡Œå‹•é …ç›®]\n\n### æœ¬é€±ï¼š\n- [è¡Œå‹•é …ç›®]\n- [è¡Œå‹•é …ç›®]"
        }
      },
      "id": "d5d48606-66c6-473c-a049-f9054632e40d",
      "name": "æ–°èè¨˜è€…",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "position": [
        160,
        -20
      ],
      "retryOnFail": true,
      "typeVersion": 1.6
    },
    {
      "parameters": {
        "model": "claude-3-5-sonnet-20241022",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatAnthropic",
      "typeVersion": 1.2,
      "position": [
        780,
        180
      ],
      "id": "fcf2a4f7-7399-462c-8b79-944f33aa66aa",
      "name": "Anthropic Chat Model",
      "credentials": {
        "anthropicApi": {
          "id": "bbfyEJjqPPl7ZxFd",
          "name": "Anthropic account"
        }
      }
    },
    {
      "parameters": {
        "operation": "search",
        "base": {
          "__rl": true,
          "value": "apppiTSWzJFZxliMi",
          "mode": "list",
          "cachedResultName": "Stock Watch",
          "cachedResultUrl": "https://airtable.com/apppiTSWzJFZxliMi"
        },
        "table": {
          "__rl": true,
          "value": "tbl1Vd6UCEEKfW4al",
          "mode": "list",
          "cachedResultName": "Trade",
          "cachedResultUrl": "https://airtable.com/apppiTSWzJFZxliMi/tbl1Vd6UCEEKfW4al"
        },
        "filterByFormula": "({Active} = true())",
        "options": {}
      },
      "type": "n8n-nodes-base.airtable",
      "typeVersion": 2.1,
      "position": [
        -800,
        460
      ],
      "id": "ea9e4400-895c-40c7-9670-f8aea61da2b4",
      "name": "Airtable",
      "credentials": {
        "airtableTokenApi": {
          "id": "oBSDcdxlAnZAEc4h",
          "name": "Airtable Personal Access Token account"
        }
      }
    },
    {
      "parameters": {
        "content": "## æ–‡ç« ç™¼å¸ƒ ğŸ“ \nè¼¸å‡ºè½åœ°",
        "height": 429,
        "width": 931,
        "color": 7
      },
      "id": "119d4d1f-4f9b-4634-b8c7-ca7ff15d03f6",
      "name": "Sticky Note4",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        2340,
        400
      ],
      "typeVersion": 1
    },
    {
      "parameters": {
        "title": "={{ $json.output.title }}",
        "additionalFields": {
          "content": "={{ $('Senior Editor-æ•´ç†å ±å‘Š').item.json.output }}",
          "slug": "={{ $json.output.article_slug }}",
          "status": "draft"
        }
      },
      "type": "n8n-nodes-base.wordpress",
      "typeVersion": 1,
      "position": [
        2780,
        480
      ],
      "id": "02dd391b-8c2f-40d0-884b-424174b3d105",
      "name": "Wordpress",
      "credentials": {
        "wordpressApi": {
          "id": "Um6L2XvsQ4s9nLZ3",
          "name": "Wordpress account"
        }
      }
    },
    {
      "parameters": {
        "operation": "create",
        "base": {
          "__rl": true,
          "value": "app24c0VmI2nKifUR",
          "mode": "list",
          "cachedResultName": "Content Pool",
          "cachedResultUrl": "https://airtable.com/app24c0VmI2nKifUR"
        },
        "table": {
          "__rl": true,
          "value": "tblf7rPaJ1FGB2QG5",
          "mode": "list",
          "cachedResultName": "Gen Img for Wordpress",
          "cachedResultUrl": "https://airtable.com/app24c0VmI2nKifUR/tblf7rPaJ1FGB2QG5"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "Title": "{{ $json.title.raw }}",
            "Post_ID": "{{ $json.id.toString() }}",
            "Article_Slug": "{{ $json.slug }}",
            "Prompt": "={{ $('æ¨™é¡Œèˆ‡åœ–ç‰‡å»ºç«‹').item.json.output.image_prompt }}",
            "Model": "DALLE3",
            "Status": "Approved"
          },
          "matchingColumns": [],
          "schema": [
            {
              "id": "Title",
              "displayName": "Title",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Post_ID",
              "displayName": "Post_ID",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Article_Slug",
              "displayName": "Article_Slug",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Prompt",
              "displayName": "Prompt",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Model",
              "displayName": "Model",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "options",
              "options": [
                {
                  "name": "DALLE3",
                  "value": "DALLE3"
                },
                {
                  "name": "Flux1.1-Pro",
                  "value": "Flux1.1-Pro"
                },
                {
                  "name": "Flux1-Dev",
                  "value": "Flux1-Dev"
                }
              ],
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Image_Task_ID",
              "displayName": "Image_Task_ID",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Image",
              "displayName": "Image",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "array",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Status",
              "displayName": "Status",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "options",
              "options": [
                {
                  "name": "Review",
                  "value": "Review"
                },
                {
                  "name": "Approved",
                  "value": "Approved"
                },
                {
                  "name": "Done",
                  "value": "Done"
                }
              ],
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Created",
              "displayName": "Created",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": true,
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.airtable",
      "typeVersion": 2.1,
      "position": [
        2960,
        480
      ],
      "id": "ad3d9fad-65ce-4d41-a4dd-aa3a65882848",
      "name": "Airtable1",
      "credentials": {
        "airtableTokenApi": {
          "id": "oBSDcdxlAnZAEc4h",
          "name": "Airtable Personal Access Token account"
        }
      }
    },
    {
      "parameters": {
        "operation": "create",
        "base": {
          "__rl": true,
          "value": "app24c0VmI2nKifUR",
          "mode": "list",
          "cachedResultName": "Content Pool",
          "cachedResultUrl": "https://airtable.com/app24c0VmI2nKifUR"
        },
        "table": {
          "__rl": true,
          "value": "tblJ9yTXT6DSItd4i",
          "mode": "list",
          "cachedResultName": "Content",
          "cachedResultUrl": "https://airtable.com/app24c0VmI2nKifUR/tblJ9yTXT6DSItd4i"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "Send2Social": false,
            "Copy": "={{ $('Senior Editor-æ•´ç†å ±å‘Š').item.json.output }}",
            "Title": "={{ $('æ¨™é¡Œèˆ‡åœ–ç‰‡å»ºç«‹').item.json.output.title }}",
            "Source Type": "n8n Research",
            "Send_To_Platform": "={{ [\"Facebook\",\"LinkedIn\"] }}"
          },
          "matchingColumns": [],
          "schema": [
            {
              "id": "ID",
              "displayName": "ID",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": true,
              "removed": true
            },
            {
              "id": "Idea",
              "displayName": "Idea",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Org Transcription",
              "displayName": "Org Transcription",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Copy",
              "displayName": "Copy",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Title",
              "displayName": "Title",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Images",
              "displayName": "Images",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "array",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "IG_Reel_Video",
              "displayName": "IG_Reel_Video",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "array",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Videos",
              "displayName": "Videos",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "array",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Source Type",
              "displayName": "Source Type",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "options",
              "options": [
                {
                  "name": "Idea Form",
                  "value": "Idea Form"
                },
                {
                  "name": "Community Post",
                  "value": "Community Post"
                },
                {
                  "name": "Audio Upload",
                  "value": "Audio Upload"
                },
                {
                  "name": "Video Upload",
                  "value": "Video Upload"
                },
                {
                  "name": "Web Content",
                  "value": "Web Content"
                },
                {
                  "name": "YT Transcription",
                  "value": "YT Transcription"
                },
                {
                  "name": "n8n Research",
                  "value": "n8n Research"
                }
              ],
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Trainsformation Actions",
              "displayName": "Trainsformation Actions",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "array",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Video_Bg",
              "displayName": "Video_Bg",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "array",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Send_To_Platform",
              "displayName": "Send_To_Platform",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "array",
              "options": [
                {
                  "name": "X/Twitter",
                  "value": "X/Twitter"
                },
                {
                  "name": "Instagram",
                  "value": "Instagram"
                },
                {
                  "name": "Facebook",
                  "value": "Facebook"
                },
                {
                  "name": "LinkedIn",
                  "value": "LinkedIn"
                },
                {
                  "name": "IG Reel",
                  "value": "IG Reel"
                }
              ],
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Send2Social",
              "displayName": "Send2Social",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "boolean",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Create_Date",
              "displayName": "Create_Date",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": true,
              "removed": true
            },
            {
              "id": "Action Name (from Trainsformation Actions)",
              "displayName": "Action Name (from Trainsformation Actions)",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": true,
              "removed": true
            },
            {
              "id": "ID (from Trainsformation Actions)",
              "displayName": "ID (from Trainsformation Actions)",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": true,
              "removed": true
            },
            {
              "id": "Webhook URL (from Trainsformation Actions)",
              "displayName": "Webhook URL (from Trainsformation Actions)",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": true,
              "removed": true
            },
            {
              "id": "bg_url",
              "displayName": "bg_url",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": true,
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.airtable",
      "typeVersion": 2.1,
      "position": [
        3120,
        480
      ],
      "id": "ed2dbff1-fb2a-4b50-9cb0-187681e0780d",
      "name": "Airtable2",
      "credentials": {
        "airtableTokenApi": {
          "id": "oBSDcdxlAnZAEc4h",
          "name": "Airtable Personal Access Token account"
        }
      }
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "mode": "list",
          "value": "claude-3-7-sonnet-20250219",
          "cachedResultName": "Claude 3.7 Sonnet"
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatAnthropic",
      "typeVersion": 1.3,
      "position": [
        2000,
        700
      ],
      "id": "73889152-9b14-47b1-9f71-18ee0212343d",
      "name": "Anthropic Chat Model1",
      "credentials": {
        "anthropicApi": {
          "id": "bbfyEJjqPPl7ZxFd",
          "name": "Anthropic account"
        }
      }
    },
    {
      "parameters": {
        "jsCode": "// å°‡è³‡æ–™æŒ‰ Ticker åˆ†çµ„ï¼Œä¸¦ä¿ç•™æœ€æ–°çš„è¨˜éŒ„\nconst groupedByTicker = {};\n\n// éæ­·æ‰€æœ‰é …ç›®\nitems.forEach(item => {\n  const ticker = item.json.Ticker;\n  const createdDate = new Date(item.json.Created.replace('å¹´', '/').replace('æœˆ', '/').replace('æ—¥', '') + ' ' + item.json.time);\n  \n  // å¦‚æœé€™å€‹ Ticker å°šæœªå­˜åœ¨æˆ–æ—¥æœŸæ¯”ç¾æœ‰çš„æ›´æ–°\n  if (!groupedByTicker[ticker] || createdDate > groupedByTicker[ticker].createdDate) {\n    groupedByTicker[ticker] = {\n      item: item,\n      createdDate: createdDate\n    };\n  }\n});\n\n// æå–çµæœ\nconst result = Object.values(groupedByTicker).map(entry => entry.item);\n\nreturn result;"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -640,
        460
      ],
      "id": "1a8b2023-7724-4f48-a895-1e452d00ab80",
      "name": "Code"
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "mode": "list",
          "value": "claude-3-7-sonnet-20250219",
          "cachedResultName": "Claude 3.7 Sonnet"
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatAnthropic",
      "typeVersion": 1.3,
      "position": [
        2440,
        700
      ],
      "id": "33ac93d0-432d-42ec-a273-6a794828447c",
      "name": "Anthropic Chat Model2",
      "credentials": {
        "anthropicApi": {
          "id": "bbfyEJjqPPl7ZxFd",
          "name": "Anthropic account"
        }
      }
    }
  ],
  "pinData": {},
  "connections": {
    "Markdown": {
      "main": [
        [
          {
            "node": "æ¨™é¡Œ",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Schedule Trigger": {
      "main": [
        [
          {
            "node": "Airtable",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Execute Workflow Trigger": {
      "main": [
        [
          {
            "node": "Perplexity API",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Perplexity API": {
      "main": [
        [
          {
            "node": "Response",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Perplexity_tool": {
      "ai_tool": [
        [
          {
            "node": "æ–°èè¨˜è€…",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "æ–°èè¨˜è€…",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Settings": {
      "main": [
        [
          {
            "node": "Switch",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Merge chapters title and text": {
      "main": [
        [
          {
            "node": "Final article text",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Final article text": {
      "main": [
        [
          {
            "node": "Senior Editor-æ•´ç†å ±å‘Š",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Structured Output Parser": {
      "ai_outputParser": [
        [
          {
            "node": "Project Manager-å·¥ä½œæ‹†è§£",
            "type": "ai_outputParser",
            "index": 0
          }
        ]
      ]
    },
    "Delegate to Research Assistants": {
      "main": [
        [
          {
            "node": "Merge chapters title and text",
            "type": "main",
            "index": 1
          },
          {
            "node": "Senior Researcher-æ·±å…¥ç ”ç©¶",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model4": {
      "ai_languageModel": [
        [
          {
            "node": "Senior Researcher-æ·±å…¥ç ”ç©¶",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model5": {
      "ai_languageModel": [
        [
          {
            "node": "Research Manager-åˆ¶å®šæ¶æ§‹ ğŸ”¬",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model2": {
      "ai_languageModel": [
        [
          {
            "node": "Project Manager-å·¥ä½œæ‹†è§£",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Switch": {
      "main": [
        [
          {
            "node": "æ–°èè¨˜è€…",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Research Manager-åˆ¶å®šæ¶æ§‹ ğŸ”¬",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Perplexity_tool2": {
      "ai_tool": [
        [
          {
            "node": "Research Manager-åˆ¶å®šæ¶æ§‹ ğŸ”¬",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Perplexity_tool1": {
      "ai_tool": [
        [
          {
            "node": "Senior Researcher-æ·±å…¥ç ”ç©¶",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Loop Over Items": {
      "main": [
        [],
        [
          {
            "node": "Settings",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Gmail1": {
      "main": [
        [
          {
            "node": "Loop Over Items",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Gmail2": {
      "main": [
        [
          {
            "node": "Loop Over Items",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Structured Output Parser1": {
      "ai_outputParser": [
        [
          {
            "node": "æ¨™é¡Œèˆ‡åœ–ç‰‡å»ºç«‹",
            "type": "ai_outputParser",
            "index": 0
          }
        ]
      ]
    },
    "Research Manager-åˆ¶å®šæ¶æ§‹ ğŸ”¬": {
      "main": [
        [
          {
            "node": "Project Manager-å·¥ä½œæ‹†è§£",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Project Manager-å·¥ä½œæ‹†è§£": {
      "main": [
        [
          {
            "node": "Delegate to Research Assistants",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Senior Researcher-æ·±å…¥ç ”ç©¶": {
      "main": [
        [
          {
            "node": "Merge chapters title and text",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "æ¨™é¡Œèˆ‡åœ–ç‰‡å»ºç«‹": {
      "main": [
        [
          {
            "node": "Gmail1",
            "type": "main",
            "index": 0
          },
          {
            "node": "Wordpress",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Senior Editor-æ•´ç†å ±å‘Š": {
      "main": [
        [
          {
            "node": "æ¨™é¡Œèˆ‡åœ–ç‰‡å»ºç«‹",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "æ¨™é¡Œ": {
      "main": [
        [
          {
            "node": "Gmail2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "æ–°èè¨˜è€…": {
      "main": [
        [
          {
            "node": "Markdown",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Anthropic Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "æ¨™é¡Œ",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Airtable": {
      "main": [
        [
          {
            "node": "Code",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Wordpress": {
      "main": [
        [
          {
            "node": "Airtable1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Airtable1": {
      "main": [
        [
          {
            "node": "Airtable2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Anthropic Chat Model1": {
      "ai_languageModel": [
        [
          {
            "node": "Senior Editor-æ•´ç†å ±å‘Š",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Code": {
      "main": [
        [
          {
            "node": "Loop Over Items",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Anthropic Chat Model2": {
      "ai_languageModel": [
        [
          {
            "node": "æ¨™é¡Œèˆ‡åœ–ç‰‡å»ºç«‹",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": true,
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "fc5f2995-5438-4bf6-ae48-80273acba46b",
  "meta": {
    "templateCredsSetupCompleted": true,
    "instanceId": "f1ebecbf08b94e56cb5800d7576e7d23fd19de8f753a7d14f117872b859ca2d0"
  },
  "id": "SuQz9eGgaHltvBbN",
  "tags": [
    {
      "createdAt": "2025-03-14T05:21:10.505Z",
      "updatedAt": "2025-03-14T05:21:10.505Z",
      "id": "1LuIXULmN1Whflax",
      "name": "News"
    },
    {
      "createdAt": "2025-03-14T05:22:18.050Z",
      "updatedAt": "2025-03-14T05:22:18.050Z",
      "id": "PJmelrzuIfcnvASt",
      "name": "Deep Research"
    }
  ]
}